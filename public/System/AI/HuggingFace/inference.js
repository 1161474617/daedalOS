var t=class{apiKey;defaultOptions;constructor(t="",r={}){this.apiKey=t,this.defaultOptions=r}async fillMask(t,r){return this.request(t,r)}async summarization(t,r){return(await this.request(t,r))?.[0]}async questionAnswer(t,r){return await this.request(t,r)}async tableQuestionAnswer(t,r){return await this.request(t,r)}async textClassification(t,r){return(await this.request(t,r))?.[0]}async textGeneration(t,r){return(await this.request(t,r))?.[0]}async tokenClassification(r,e){return t.toArray(await this.request(r,e))}async translation(t,r){return(await this.request(t,r))?.[0]}async zeroShotClassification(r,e){return t.toArray(await this.request(r,e))}async conversational(t,r){return await this.request(t,r)}async featureExtraction(t,r){return await this.request(t,r)}async automaticSpeechRecognition(t,r){return await this.request(t,{...r,binary:!0})}async audioClassification(t,r){return await this.request(t,{...r,binary:!0})}async imageClassification(t,r){return await this.request(t,{...r,binary:!0})}async objectDetection(t,r){return await this.request(t,{...r,binary:!0})}async imageSegmentation(t,r){return await this.request(t,{...r,binary:!0})}async textToImage(t,r){return await this.request(t,{...r,blob:!0})}async request(t,r){const e={...this.defaultOptions,...r},{model:a,...i}=t,s={};this.apiKey&&(s.Authorization=`Bearer ${this.apiKey}`),r?.binary||(s["Content-Type"]="application/json"),r?.binary&&e.wait_for_model&&(s["X-Wait-For-Model"]="true");const n=await fetch(`https://api-inference.huggingface.co/models/${a}`,{headers:s,method:"POST",body:r?.binary?t.data:JSON.stringify({...i,options:e})});if(!1!==e.retry_on_error&&503===n.status&&!e.wait_for_model)return this.request(t,{...e,wait_for_model:!0});let o;if(r?.blob){if(!n.ok)throw new Error("An error occurred while fetching the blob");return await n.arrayBuffer()}if(o=await n.json(),o.error)throw new Error(o.error);return o}static toArray(t){return Array.isArray(t)?t:[t]}};window.HfInference=t;
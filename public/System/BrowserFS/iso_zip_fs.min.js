!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.BrowserFS=e():t.BrowserFS=e()}(this,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=2)}([function(t,e,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";(function(t){var n=r(3),o=r(7);function i(t){var e=Object.create(null);return t&&Object.keys(t).forEach(function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(e,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}}),e.default=t,Object.freeze(e)}var a,s=i(n),c=i(o);!function(t){t[t.EPERM=1]="EPERM",t[t.ENOENT=2]="ENOENT",t[t.EIO=5]="EIO",t[t.EBADF=9]="EBADF",t[t.EACCES=13]="EACCES",t[t.EBUSY=16]="EBUSY",t[t.EEXIST=17]="EEXIST",t[t.ENOTDIR=20]="ENOTDIR",t[t.EISDIR=21]="EISDIR",t[t.EINVAL=22]="EINVAL",t[t.EFBIG=27]="EFBIG",t[t.ENOSPC=28]="ENOSPC",t[t.EROFS=30]="EROFS",t[t.ENOTEMPTY=39]="ENOTEMPTY",t[t.ENOTSUP=95]="ENOTSUP"}(a||(a={}));var u={};u[a.EPERM]="Operation not permitted.",u[a.ENOENT]="No such file or directory.",u[a.EIO]="Input/output error.",u[a.EBADF]="Bad file descriptor.",u[a.EACCES]="Permission denied.",u[a.EBUSY]="Resource busy or locked.",u[a.EEXIST]="File exists.",u[a.ENOTDIR]="File is not a directory.",u[a.EISDIR]="File is a directory.",u[a.EINVAL]="Invalid argument.",u[a.EFBIG]="File is too big.",u[a.ENOSPC]="No space left on disk.",u[a.EROFS]="Cannot modify a read-only file system.",u[a.ENOTEMPTY]="Directory is not empty.",u[a.ENOTSUP]="Operation is not supported.";var f,h=function(t){function e(e,r,n){void 0===r&&(r=u[e]),t.call(this,r),this.syscall="",this.errno=e,this.code=a[e],this.path=n,this.stack=(new t).stack,this.message="Error: "+this.code+": "+r+(this.path?", '"+this.path+"'":"")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.fromJSON=function(t){var r=new e(0);return r.errno=t.errno,r.code=t.code,r.path=t.path,r.stack=t.stack,r.message=t.message,r},e.fromBuffer=function(t,r){return void 0===r&&(r=0),e.fromJSON(JSON.parse(t.toString("utf8",r+4,r+4+t.readUInt32LE(r))))},e.FileError=function(t,r){return new e(t,u[t],r)},e.ENOENT=function(t){return this.FileError(a.ENOENT,t)},e.EEXIST=function(t){return this.FileError(a.EEXIST,t)},e.EISDIR=function(t){return this.FileError(a.EISDIR,t)},e.ENOTDIR=function(t){return this.FileError(a.ENOTDIR,t)},e.EPERM=function(t){return this.FileError(a.EPERM,t)},e.ENOTEMPTY=function(t){return this.FileError(a.ENOTEMPTY,t)},e.prototype.toString=function(){return this.message},e.prototype.toJSON=function(){return{errno:this.errno,code:this.code,path:this.path,stack:this.stack,message:this.message}},e.prototype.writeToBuffer=function(t,e){void 0===t&&(t=Buffer.alloc(this.bufferSize())),void 0===e&&(e=0);var r=t.write(JSON.stringify(this.toJSON()),e+4);return t.writeUInt32LE(r,e),t},e.prototype.bufferSize=function(){return 4+Buffer.byteLength(JSON.stringify(this.toJSON()))},e}(Error),p=Object.freeze({__proto__:null,ApiError:h,get ErrorCode(){return a},ErrorStrings:u});!function(t){t[t.NOP=0]="NOP",t[t.THROW_EXCEPTION=1]="THROW_EXCEPTION",t[t.TRUNCATE_FILE=2]="TRUNCATE_FILE",t[t.CREATE_FILE=3]="CREATE_FILE"}(f||(f={}));var l,d=function t(e){if(this.flagStr=e,t.validFlagStrs.indexOf(e)<0)throw new h(a.EINVAL,"Invalid flag: "+e)};d.getFileFlag=function(t){return d.flagCache.hasOwnProperty(t)?d.flagCache[t]:d.flagCache[t]=new d(t)},d.prototype.getFlagString=function(){return this.flagStr},d.prototype.isReadable=function(){return-1!==this.flagStr.indexOf("r")||-1!==this.flagStr.indexOf("+")},d.prototype.isWriteable=function(){return-1!==this.flagStr.indexOf("w")||-1!==this.flagStr.indexOf("a")||-1!==this.flagStr.indexOf("+")},d.prototype.isTruncating=function(){return-1!==this.flagStr.indexOf("w")},d.prototype.isAppendable=function(){return-1!==this.flagStr.indexOf("a")},d.prototype.isSynchronous=function(){return-1!==this.flagStr.indexOf("s")},d.prototype.isExclusive=function(){return-1!==this.flagStr.indexOf("x")},d.prototype.pathExistsAction=function(){return this.isExclusive()?f.THROW_EXCEPTION:this.isTruncating()?f.TRUNCATE_FILE:f.NOP},d.prototype.pathNotExistsAction=function(){return(this.isWriteable()||this.isAppendable())&&"r+"!==this.flagStr?f.CREATE_FILE:f.THROW_EXCEPTION},d.flagCache={},d.validFlagStrs=["r","r+","rs","rs+","w","wx","w+","wx+","a","ax","a+","ax+"],function(t){t[t.FILE=32768]="FILE",t[t.DIRECTORY=16384]="DIRECTORY",t[t.SYMLINK=40960]="SYMLINK"}(l||(l={}));var y=function(t,e,r,n,o,i,a){this.dev=0,this.ino=0,this.rdev=0,this.nlink=1,this.blksize=4096,this.uid=0,this.gid=0,this.fileData=null,this.size=e;var s=0;if("number"!=typeof n&&(n=s=Date.now()),"number"!=typeof o&&(s||(s=Date.now()),o=s),"number"!=typeof i&&(s||(s=Date.now()),i=s),"number"!=typeof a&&(s||(s=Date.now()),a=s),this.atimeMs=n,this.ctimeMs=i,this.mtimeMs=o,this.birthtimeMs=a,r)this.mode=r;else switch(t){case l.FILE:this.mode=420;break;case l.DIRECTORY:default:this.mode=511}this.blocks=Math.ceil(e/512),this.mode<4096&&(this.mode|=t)},g={atime:{configurable:!0},mtime:{configurable:!0},ctime:{configurable:!0},birthtime:{configurable:!0}};y.fromBuffer=function(t){var e=t.readUInt32LE(0),r=t.readUInt32LE(4),n=t.readDoubleLE(8),o=t.readDoubleLE(16),i=t.readDoubleLE(24);return new y(61440&r,e,4095&r,n,o,i)},y.clone=function(t){return new y(61440&t.mode,t.size,4095&t.mode,t.atimeMs,t.mtimeMs,t.ctimeMs,t.birthtimeMs)},g.atime.get=function(){return new Date(this.atimeMs)},g.mtime.get=function(){return new Date(this.mtimeMs)},g.ctime.get=function(){return new Date(this.ctimeMs)},g.birthtime.get=function(){return new Date(this.birthtimeMs)},y.prototype.toBuffer=function(){var t=Buffer.alloc(32);return t.writeUInt32LE(this.size,0),t.writeUInt32LE(this.mode,4),t.writeDoubleLE(this.atime.getTime(),8),t.writeDoubleLE(this.mtime.getTime(),16),t.writeDoubleLE(this.ctime.getTime(),24),t},y.prototype.isFile=function(){return(61440&this.mode)===l.FILE},y.prototype.isDirectory=function(){return(61440&this.mode)===l.DIRECTORY},y.prototype.isSymbolicLink=function(){return(61440&this.mode)===l.SYMLINK},y.prototype.chmod=function(t){this.mode=61440&this.mode|t},y.prototype.isSocket=function(){return!1},y.prototype.isBlockDevice=function(){return!1},y.prototype.isCharacterDevice=function(){return!1},y.prototype.isFIFO=function(){return!1},Object.defineProperties(y.prototype,g);var w,_="undefined"!=typeof window?window:"undefined"!=typeof self?self:t;if("undefined"!=typeof setImmediate)w=setImmediate;else{var m=_,E=[];if(function(){if(void 0!==m.importScripts||!m.postMessage)return!1;var t=!0,e=m.onmessage;return m.onmessage=function(){t=!1},m.postMessage("","*"),m.onmessage=e,t}()){w=function(t){E.push(t),m.postMessage("zero-timeout-message","*")};var v=function(t){if(t.source===self&&"zero-timeout-message"===t.data&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,E.length>0))return E.shift()()};m.addEventListener?m.addEventListener("message",v,!0):m.attachEvent("onmessage",v)}else if(m.MessageChannel){var b=new m.MessageChannel;b.port1.onmessage=function(t){if(E.length>0)return E.shift()()},w=function(t){E.push(t),b.port2.postMessage("")}}else w=function(t){return setTimeout(t,0)}}var S=w,I=function(t,e){return t};function O(t,e){if("function"!=typeof t)throw new Error("Callback must be a function.");var r=I(t,e);switch(e){case 1:return function(t){S(function(){return r(t)})};case 2:return function(t,e){S(function(){return r(t,e)})};case 3:return function(t,e,n){S(function(){return r(t,e,n)})};default:throw new Error("Invalid invocation of wrapCb.")}}function R(t){if(t)return t;throw new h(a.EIO,"Initialize BrowserFS with a file system using BrowserFS.initialize(filesystem)")}function T(t,e){switch(typeof t){case"number":return t;case"string":var r=parseInt(t,8);return isNaN(r)?e:r;default:return e}}function k(t){if(t instanceof Date)return t;if("number"==typeof t)return new Date(1e3*t);throw new h(a.EINVAL,"Invalid time.")}function L(t){if(t.indexOf("\0")>=0)throw new h(a.EINVAL,"Path must be a string without null bytes.");if(""===t)throw new h(a.EINVAL,"Path must not be empty.");return c.resolve(t)}function A(t,e,r,n){switch(null===t?"null":typeof t){case"object":return{encoding:void 0!==t.encoding?t.encoding:e,flag:void 0!==t.flag?t.flag:r,mode:T(t.mode,n)};case"string":return{encoding:t,flag:r,mode:n};case"null":case"undefined":case"function":return{encoding:e,flag:r,mode:n};default:throw new TypeError('"options" must be a string or an object, got '+typeof t+" instead.")}}function F(){}var N=function(){this.F_OK=0,this.R_OK=4,this.W_OK=2,this.X_OK=1,this.root=null,this.fdMap={},this.nextFd=100};N.prototype.initialize=function(t){if(!t.constructor.isAvailable())throw new h(a.EINVAL,"Tried to instantiate BrowserFS with an unavailable file system.");return this.root=t},N.prototype._toUnixTimestamp=function(t){if("number"==typeof t)return t;if(t instanceof Date)return t.getTime()/1e3;throw new Error("Cannot parse time: "+t)},N.prototype.getRootFS=function(){return this.root?this.root:null},N.prototype.rename=function(t,e,r){void 0===r&&(r=F);var n=O(r,1);try{R(this.root).rename(L(t),L(e),n)}catch(t){n(t)}},N.prototype.renameSync=function(t,e){R(this.root).renameSync(L(t),L(e))},N.prototype.exists=function(t,e){void 0===e&&(e=F);var r=O(e,1);try{return R(this.root).exists(L(t),r)}catch(t){return r(!1)}},N.prototype.existsSync=function(t){try{return R(this.root).existsSync(L(t))}catch(t){return!1}},N.prototype.stat=function(t,e){void 0===e&&(e=F);var r=O(e,2);try{return R(this.root).stat(L(t),!1,r)}catch(t){return r(t)}},N.prototype.statSync=function(t){return R(this.root).statSync(L(t),!1)},N.prototype.lstat=function(t,e){void 0===e&&(e=F);var r=O(e,2);try{return R(this.root).stat(L(t),!0,r)}catch(t){return r(t)}},N.prototype.lstatSync=function(t){return R(this.root).statSync(L(t),!0)},N.prototype.truncate=function(t,e,r){void 0===e&&(e=0),void 0===r&&(r=F);var n=0;"function"==typeof e?r=e:"number"==typeof e&&(n=e);var o=O(r,1);try{if(n<0)throw new h(a.EINVAL);return R(this.root).truncate(L(t),n,o)}catch(t){return o(t)}},N.prototype.truncateSync=function(t,e){if(void 0===e&&(e=0),e<0)throw new h(a.EINVAL);return R(this.root).truncateSync(L(t),e)},N.prototype.unlink=function(t,e){void 0===e&&(e=F);var r=O(e,1);try{return R(this.root).unlink(L(t),r)}catch(t){return r(t)}},N.prototype.unlinkSync=function(t){return R(this.root).unlinkSync(L(t))},N.prototype.open=function(t,e,r,n){var o=this;void 0===n&&(n=F);var i=T(r,420),a=O(n="function"==typeof r?r:n,2);try{R(this.root).open(L(t),d.getFileFlag(e),i,function(t,e){e?a(t,o.getFdForFile(e)):a(t)})}catch(t){a(t)}},N.prototype.openSync=function(t,e,r){return void 0===r&&(r=420),this.getFdForFile(R(this.root).openSync(L(t),d.getFileFlag(e),T(r,420)))},N.prototype.readFile=function(t,e,r){void 0===e&&(e={}),void 0===r&&(r=F);var n=A(e,null,"r",null),o=O(r="function"==typeof e?e:r,2);try{var i=d.getFileFlag(n.flag);return i.isReadable()?R(this.root).readFile(L(t),n.encoding,i,o):o(new h(a.EINVAL,"Flag passed to readFile must allow for reading."))}catch(t){return o(t)}},N.prototype.readFileSync=function(t,e){void 0===e&&(e={});var r=A(e,null,"r",null),n=d.getFileFlag(r.flag);if(!n.isReadable())throw new h(a.EINVAL,"Flag passed to readFile must allow for reading.");return R(this.root).readFileSync(L(t),r.encoding,n)},N.prototype.writeFile=function(t,e,r,n){void 0===r&&(r={}),void 0===n&&(n=F);var o=A(r,"utf8","w",420),i=O(n="function"==typeof r?r:n,1);try{var s=d.getFileFlag(o.flag);return s.isWriteable()?R(this.root).writeFile(L(t),e,o.encoding,s,o.mode,i):i(new h(a.EINVAL,"Flag passed to writeFile must allow for writing."))}catch(t){return i(t)}},N.prototype.writeFileSync=function(t,e,r){var n=A(r,"utf8","w",420),o=d.getFileFlag(n.flag);if(!o.isWriteable())throw new h(a.EINVAL,"Flag passed to writeFile must allow for writing.");return R(this.root).writeFileSync(L(t),e,n.encoding,o,n.mode)},N.prototype.appendFile=function(t,e,r,n){void 0===n&&(n=F);var o=A(r,"utf8","a",420),i=O(n="function"==typeof r?r:n,1);try{var s=d.getFileFlag(o.flag);if(!s.isAppendable())return i(new h(a.EINVAL,"Flag passed to appendFile must allow for appending."));R(this.root).appendFile(L(t),e,o.encoding,s,o.mode,i)}catch(t){i(t)}},N.prototype.appendFileSync=function(t,e,r){var n=A(r,"utf8","a",420),o=d.getFileFlag(n.flag);if(!o.isAppendable())throw new h(a.EINVAL,"Flag passed to appendFile must allow for appending.");return R(this.root).appendFileSync(L(t),e,n.encoding,o,n.mode)},N.prototype.fstat=function(t,e){void 0===e&&(e=F);var r=O(e,2);try{this.fd2file(t).stat(r)}catch(t){r(t)}},N.prototype.fstatSync=function(t){return this.fd2file(t).statSync()},N.prototype.close=function(t,e){var r=this;void 0===e&&(e=F);var n=O(e,1);try{this.fd2file(t).close(function(e){e||r.closeFd(t),n(e)})}catch(t){n(t)}},N.prototype.closeSync=function(t){this.fd2file(t).closeSync(),this.closeFd(t)},N.prototype.ftruncate=function(t,e,r){void 0===r&&(r=F);var n="number"==typeof e?e:0,o=O(r="function"==typeof e?e:r,1);try{var i=this.fd2file(t);if(n<0)throw new h(a.EINVAL);i.truncate(n,o)}catch(t){o(t)}},N.prototype.ftruncateSync=function(t,e){void 0===e&&(e=0);var r=this.fd2file(t);if(e<0)throw new h(a.EINVAL);r.truncateSync(e)},N.prototype.fsync=function(t,e){void 0===e&&(e=F);var r=O(e,1);try{this.fd2file(t).sync(r)}catch(t){r(t)}},N.prototype.fsyncSync=function(t){this.fd2file(t).syncSync()},N.prototype.fdatasync=function(t,e){void 0===e&&(e=F);var r=O(e,1);try{this.fd2file(t).datasync(r)}catch(t){r(t)}},N.prototype.fdatasyncSync=function(t){this.fd2file(t).datasyncSync()},N.prototype.write=function(t,e,r,n,o,i){void 0===i&&(i=F);var s,c,u,f=null;if("string"==typeof e){var p="utf8";switch(typeof r){case"function":i=r;break;case"number":f=r,p="string"==typeof n?n:"utf8",i="function"==typeof o?o:i;break;default:return(i="function"==typeof n?n:"function"==typeof o?o:i)(new h(a.EINVAL,"Invalid arguments."))}c=0,u=(s=Buffer.from(e,p)).length}else s=e,c=r,u=n,f="number"==typeof o?o:null,i="function"==typeof o?o:i;var l=O(i,3);try{var d=this.fd2file(t);void 0!==f&&null!==f||(f=d.getPos()),d.write(s,c,u,f,l)}catch(t){l(t)}},N.prototype.writeSync=function(t,e,r,n,o){var i,a,s,c=0;if("string"==typeof e){s="number"==typeof r?r:null;var u="string"==typeof n?n:"utf8";c=0,a=(i=Buffer.from(e,u)).length}else i=e,c=r,a=n,s="number"==typeof o?o:null;var f=this.fd2file(t);return void 0!==s&&null!==s||(s=f.getPos()),f.writeSync(i,c,a,s)},N.prototype.read=function(t,e,r,n,o,i){var a,s,c,u,f;if(void 0===i&&(i=F),"number"==typeof e){c=e,a=r;var h=n;i="function"==typeof o?o:i,s=0,u=Buffer.alloc(c),f=O(function(t,e,r){if(t)return i(t);i(t,r.toString(h),e)},3)}else u=e,s=r,c=n,a=o,f=O(i,3);try{var p=this.fd2file(t);void 0!==a&&null!==a||(a=p.getPos()),p.read(u,s,c,a,f)}catch(t){f(t)}},N.prototype.readSync=function(t,e,r,n,o){var i,a,s,c,u=!1,f="utf8";"number"==typeof e?(s=e,c=r,f=n,a=0,i=Buffer.alloc(s),u=!0):(i=e,a=r,s=n,c=o);var h=this.fd2file(t);void 0!==c&&null!==c||(c=h.getPos());var p=h.readSync(i,a,s,c);return u?[i.toString(f),p]:p},N.prototype.fchown=function(t,e,r,n){void 0===n&&(n=F);var o=O(n,1);try{this.fd2file(t).chown(e,r,o)}catch(t){o(t)}},N.prototype.fchownSync=function(t,e,r){this.fd2file(t).chownSync(e,r)},N.prototype.fchmod=function(t,e,r){var n=O(r,1);try{var o="string"==typeof e?parseInt(e,8):e;this.fd2file(t).chmod(o,n)}catch(t){n(t)}},N.prototype.fchmodSync=function(t,e){var r="string"==typeof e?parseInt(e,8):e;this.fd2file(t).chmodSync(r)},N.prototype.futimes=function(t,e,r,n){void 0===n&&(n=F);var o=O(n,1);try{var i=this.fd2file(t);"number"==typeof e&&(e=new Date(1e3*e)),"number"==typeof r&&(r=new Date(1e3*r)),i.utimes(e,r,o)}catch(t){o(t)}},N.prototype.futimesSync=function(t,e,r){this.fd2file(t).utimesSync(k(e),k(r))},N.prototype.rmdir=function(t,e){void 0===e&&(e=F);var r=O(e,1);try{t=L(t),R(this.root).rmdir(t,r)}catch(t){r(t)}},N.prototype.rmdirSync=function(t){return t=L(t),R(this.root).rmdirSync(t)},N.prototype.mkdir=function(t,e,r){void 0===r&&(r=F),"function"==typeof e&&(r=e,e=511);var n=O(r,1);try{t=L(t),R(this.root).mkdir(t,e,n)}catch(t){n(t)}},N.prototype.mkdirSync=function(t,e){R(this.root).mkdirSync(L(t),T(e,511))},N.prototype.readdir=function(t,e){void 0===e&&(e=F);var r=O(e,2);try{t=L(t),R(this.root).readdir(t,r)}catch(t){r(t)}},N.prototype.readdirSync=function(t){return t=L(t),R(this.root).readdirSync(t)},N.prototype.link=function(t,e,r){void 0===r&&(r=F);var n=O(r,1);try{t=L(t),e=L(e),R(this.root).link(t,e,n)}catch(t){n(t)}},N.prototype.linkSync=function(t,e){return t=L(t),e=L(e),R(this.root).linkSync(t,e)},N.prototype.symlink=function(t,e,r,n){void 0===n&&(n=F);var o="string"==typeof r?r:"file",i=O(n="function"==typeof r?r:n,1);try{if("file"!==o&&"dir"!==o)return i(new h(a.EINVAL,"Invalid type: "+o));t=L(t),e=L(e),R(this.root).symlink(t,e,o,i)}catch(t){i(t)}},N.prototype.symlinkSync=function(t,e,r){if(r){if("file"!==r&&"dir"!==r)throw new h(a.EINVAL,"Invalid type: "+r)}else r="file";return t=L(t),e=L(e),R(this.root).symlinkSync(t,e,r)},N.prototype.readlink=function(t,e){void 0===e&&(e=F);var r=O(e,2);try{t=L(t),R(this.root).readlink(t,r)}catch(t){r(t)}},N.prototype.readlinkSync=function(t){return t=L(t),R(this.root).readlinkSync(t)},N.prototype.chown=function(t,e,r,n){void 0===n&&(n=F);var o=O(n,1);try{t=L(t),R(this.root).chown(t,!1,e,r,o)}catch(t){o(t)}},N.prototype.chownSync=function(t,e,r){t=L(t),R(this.root).chownSync(t,!1,e,r)},N.prototype.lchown=function(t,e,r,n){void 0===n&&(n=F);var o=O(n,1);try{t=L(t),R(this.root).chown(t,!0,e,r,o)}catch(t){o(t)}},N.prototype.lchownSync=function(t,e,r){t=L(t),R(this.root).chownSync(t,!0,e,r)},N.prototype.chmod=function(t,e,r){void 0===r&&(r=F);var n=O(r,1);try{var o=T(e,-1);if(o<0)throw new h(a.EINVAL,"Invalid mode.");R(this.root).chmod(L(t),!1,o,n)}catch(t){n(t)}},N.prototype.chmodSync=function(t,e){var r=T(e,-1);if(r<0)throw new h(a.EINVAL,"Invalid mode.");t=L(t),R(this.root).chmodSync(t,!1,r)},N.prototype.lchmod=function(t,e,r){void 0===r&&(r=F);var n=O(r,1);try{var o=T(e,-1);if(o<0)throw new h(a.EINVAL,"Invalid mode.");R(this.root).chmod(L(t),!0,o,n)}catch(t){n(t)}},N.prototype.lchmodSync=function(t,e){var r=T(e,-1);if(r<1)throw new h(a.EINVAL,"Invalid mode.");R(this.root).chmodSync(L(t),!0,r)},N.prototype.utimes=function(t,e,r,n){void 0===n&&(n=F);var o=O(n,1);try{R(this.root).utimes(L(t),k(e),k(r),o)}catch(t){o(t)}},N.prototype.utimesSync=function(t,e,r){R(this.root).utimesSync(L(t),k(e),k(r))},N.prototype.realpath=function(t,e,r){void 0===r&&(r=F);var n="object"==typeof e?e:{},o=O(r="function"==typeof e?e:F,2);try{t=L(t),R(this.root).realpath(t,n,o)}catch(t){o(t)}},N.prototype.realpathSync=function(t,e){return void 0===e&&(e={}),t=L(t),R(this.root).realpathSync(t,e)},N.prototype.watchFile=function(t,e,r){throw new h(a.ENOTSUP)},N.prototype.unwatchFile=function(t,e){throw new h(a.ENOTSUP)},N.prototype.watch=function(t,e,r){throw new h(a.ENOTSUP)},N.prototype.access=function(t,e,r){throw new h(a.ENOTSUP)},N.prototype.accessSync=function(t,e){throw new h(a.ENOTSUP)},N.prototype.createReadStream=function(t,e){throw new h(a.ENOTSUP)},N.prototype.createWriteStream=function(t,e){throw new h(a.ENOTSUP)},N.prototype.wrapCallbacks=function(t){I=t},N.prototype.getFdForFile=function(t){var e=this.nextFd++;return this.fdMap[e]=t,e},N.prototype.fd2file=function(t){var e=this.fdMap[t];if(e)return e;throw new h(a.EBADF,"Invalid file descriptor.")},N.prototype.closeFd=function(t){delete this.fdMap[t]},N.Stats=y;var U=new N,D={},x=N.prototype;function P(){throw new Error("BFS has reached an impossible code path; please file a bug.")}function B(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function C(t){return t instanceof Buffer?t:t instanceof Uint8Array?M(t):Buffer.from(t)}function M(t){return t instanceof Buffer?t:0===t.byteOffset&&t.byteLength===t.buffer.byteLength?j(t.buffer):Buffer.from(t.buffer,t.byteOffset,t.byteLength)}function j(t){return Buffer.from(t)}function z(t,e,r){if(void 0===e&&(e=0),void 0===r&&(r=t.length),e<0||r<0||r>t.length||e>r)throw new TypeError("Invalid slice bounds on buffer of length "+t.length+": ["+e+", "+r+"]");if(0===t.length)return Z();var n=B(t),o=t[0],i=(o+1)%255;return t[0]=i,n[0]===i?(n[0]=o,M(n.slice(e,r))):(t[0]=o,M(n.subarray(e,r)))}Object.keys(x).forEach(function(t){"function"==typeof U[t]?D[t]=function(){return U[t].apply(U,arguments)}:D[t]=U[t]}),D.changeFSModule=function(t){U=t},D.getFSModule=function(){return U},D.FS=N,D.Stats=N.Stats;var Y=null;function Z(){return Y||(Y=Buffer.alloc(0))}function V(t,e){Buffer.isBuffer(t)?e():e(new h(a.EINVAL,"option must be a Buffer."))}var W=Object.freeze({__proto__:null,arrayBuffer2Buffer:j,arrayish2Buffer:C,buffer2ArrayBuffer:function(t){var e=B(t),r=e.byteOffset,n=e.byteLength;return 0===r&&n===e.buffer.byteLength?e.buffer:e.buffer.slice(r,r+n)},buffer2Uint8array:B,bufferValidator:V,copyingSlice:z,deprecationMessage:function(t,e,r){t&&console.warn("["+e+"] Direct file system constructor usage is deprecated for this file system, and will be removed in the next major version. Please use the '"+e+".Create("+JSON.stringify(r)+", callback)' method instead. See https://github.com/jvilk/BrowserFS/issues/176 for more details.")},emptyBuffer:Z,fail:P,mkdirpSync:function t(e,r,n){n.existsSync(e)||(t(c.dirname(e),r,n),n.mkdirSync(e,r))},uint8Array2Buffer:M}),H=function(){};H.prototype.supportsLinks=function(){return!1},H.prototype.diskSpace=function(t,e){e(0,0)},H.prototype.openFile=function(t,e,r){throw new h(a.ENOTSUP)},H.prototype.createFile=function(t,e,r,n){throw new h(a.ENOTSUP)},H.prototype.open=function(t,e,r,n){var o=this;this.stat(t,!1,function(i,s){if(i)switch(e.pathNotExistsAction()){case f.CREATE_FILE:return o.stat(c.dirname(t),!1,function(i,a){i?n(i):a&&!a.isDirectory()?n(h.ENOTDIR(c.dirname(t))):o.createFile(t,e,r,n)});case f.THROW_EXCEPTION:return n(h.ENOENT(t));default:return n(new h(a.EINVAL,"Invalid FileFlag object."))}else{if(s&&s.isDirectory())return n(h.EISDIR(t));switch(e.pathExistsAction()){case f.THROW_EXCEPTION:return n(h.EEXIST(t));case f.TRUNCATE_FILE:return o.openFile(t,e,function(t,e){t?n(t):e?e.truncate(0,function(){e.sync(function(){n(null,e)})}):P()});case f.NOP:return o.openFile(t,e,n);default:return n(new h(a.EINVAL,"Invalid FileFlag object."))}}})},H.prototype.rename=function(t,e,r){r(new h(a.ENOTSUP))},H.prototype.renameSync=function(t,e){throw new h(a.ENOTSUP)},H.prototype.stat=function(t,e,r){r(new h(a.ENOTSUP))},H.prototype.statSync=function(t,e){throw new h(a.ENOTSUP)},H.prototype.openFileSync=function(t,e,r){throw new h(a.ENOTSUP)},H.prototype.createFileSync=function(t,e,r){throw new h(a.ENOTSUP)},H.prototype.openSync=function(t,e,r){var n;try{n=this.statSync(t,!1)}catch(n){switch(e.pathNotExistsAction()){case f.CREATE_FILE:if(!this.statSync(c.dirname(t),!1).isDirectory())throw h.ENOTDIR(c.dirname(t));return this.createFileSync(t,e,r);case f.THROW_EXCEPTION:throw h.ENOENT(t);default:throw new h(a.EINVAL,"Invalid FileFlag object.")}}if(n.isDirectory())throw h.EISDIR(t);switch(e.pathExistsAction()){case f.THROW_EXCEPTION:throw h.EEXIST(t);case f.TRUNCATE_FILE:return this.unlinkSync(t),this.createFileSync(t,e,n.mode);case f.NOP:return this.openFileSync(t,e,r);default:throw new h(a.EINVAL,"Invalid FileFlag object.")}},H.prototype.unlink=function(t,e){e(new h(a.ENOTSUP))},H.prototype.unlinkSync=function(t){throw new h(a.ENOTSUP)},H.prototype.rmdir=function(t,e){e(new h(a.ENOTSUP))},H.prototype.rmdirSync=function(t){throw new h(a.ENOTSUP)},H.prototype.mkdir=function(t,e,r){r(new h(a.ENOTSUP))},H.prototype.mkdirSync=function(t,e){throw new h(a.ENOTSUP)},H.prototype.readdir=function(t,e){e(new h(a.ENOTSUP))},H.prototype.readdirSync=function(t){throw new h(a.ENOTSUP)},H.prototype.exists=function(t,e){this.stat(t,null,function(t){e(!t)})},H.prototype.existsSync=function(t){try{return this.statSync(t,!0),!0}catch(t){return!1}},H.prototype.realpath=function(t,e,r){if(this.supportsLinks())for(var n=t.split(c.sep),o=0;o<n.length;o++){var i=n.slice(0,o+1);n[o]=c.join.apply(null,i)}else this.exists(t,function(e){e?r(null,t):r(h.ENOENT(t))})},H.prototype.realpathSync=function(t,e){if(this.supportsLinks()){for(var r=t.split(c.sep),n=0;n<r.length;n++){var o=r.slice(0,n+1);r[n]=c.join.apply(c,o)}return r.join(c.sep)}if(this.existsSync(t))return t;throw h.ENOENT(t)},H.prototype.truncate=function(t,e,r){this.open(t,d.getFileFlag("r+"),420,function(t,n){if(t)return r(t);n.truncate(e,function(t){n.close(function(e){r(t||e)})})})},H.prototype.truncateSync=function(t,e){var r=this.openSync(t,d.getFileFlag("r+"),420);try{r.truncateSync(e)}catch(t){throw t}finally{r.closeSync()}},H.prototype.readFile=function(t,e,r,n){var o=n;this.open(t,r,420,function(t,r){if(t)return n(t);n=function(t,e){r.close(function(r){return t||(t=r),o(t,e)})},r.stat(function(t,o){if(t)return n(t);var i=Buffer.alloc(o.size);r.read(i,0,o.size,0,function(t){if(t)return n(t);if(null===e)return n(t,i);try{n(null,i.toString(e))}catch(t){n(t)}})})})},H.prototype.readFileSync=function(t,e,r){var n=this.openSync(t,r,420);try{var o=n.statSync(),i=Buffer.alloc(o.size);return n.readSync(i,0,o.size,0),n.closeSync(),null===e?i:i.toString(e)}finally{n.closeSync()}},H.prototype.writeFile=function(t,e,r,n,o,i){var a=i;this.open(t,n,420,function(t,n){if(t)return i(t);i=function(t){n.close(function(e){a(t||e)})};try{"string"==typeof e&&(e=Buffer.from(e,r))}catch(t){return i(t)}n.write(e,0,e.length,0,i)})},H.prototype.writeFileSync=function(t,e,r,n,o){var i=this.openSync(t,n,o);try{"string"==typeof e&&(e=Buffer.from(e,r)),i.writeSync(e,0,e.length,0)}finally{i.closeSync()}},H.prototype.appendFile=function(t,e,r,n,o,i){var a=i;this.open(t,n,o,function(t,n){if(t)return i(t);i=function(t){n.close(function(e){a(t||e)})},"string"==typeof e&&(e=Buffer.from(e,r)),n.write(e,0,e.length,null,i)})},H.prototype.appendFileSync=function(t,e,r,n,o){var i=this.openSync(t,n,o);try{"string"==typeof e&&(e=Buffer.from(e,r)),i.writeSync(e,0,e.length,null)}finally{i.closeSync()}},H.prototype.chmod=function(t,e,r,n){n(new h(a.ENOTSUP))},H.prototype.chmodSync=function(t,e,r){throw new h(a.ENOTSUP)},H.prototype.chown=function(t,e,r,n,o){o(new h(a.ENOTSUP))},H.prototype.chownSync=function(t,e,r,n){throw new h(a.ENOTSUP)},H.prototype.utimes=function(t,e,r,n){n(new h(a.ENOTSUP))},H.prototype.utimesSync=function(t,e,r){throw new h(a.ENOTSUP)},H.prototype.link=function(t,e,r){r(new h(a.ENOTSUP))},H.prototype.linkSync=function(t,e){throw new h(a.ENOTSUP)},H.prototype.symlink=function(t,e,r,n){n(new h(a.ENOTSUP))},H.prototype.symlinkSync=function(t,e,r){throw new h(a.ENOTSUP)},H.prototype.readlink=function(t,e){e(new h(a.ENOTSUP))},H.prototype.readlinkSync=function(t){throw new h(a.ENOTSUP)};var X=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.supportsSynch=function(){return!0},e.prototype.rename=function(t,e,r){try{this.renameSync(t,e),r()}catch(t){r(t)}},e.prototype.stat=function(t,e,r){try{r(null,this.statSync(t,e))}catch(t){r(t)}},e.prototype.open=function(t,e,r,n){try{n(null,this.openSync(t,e,r))}catch(t){n(t)}},e.prototype.unlink=function(t,e){try{this.unlinkSync(t),e()}catch(t){e(t)}},e.prototype.rmdir=function(t,e){try{this.rmdirSync(t),e()}catch(t){e(t)}},e.prototype.mkdir=function(t,e,r){try{this.mkdirSync(t,e),r()}catch(t){r(t)}},e.prototype.readdir=function(t,e){try{e(null,this.readdirSync(t))}catch(t){e(t)}},e.prototype.chmod=function(t,e,r,n){try{this.chmodSync(t,e,r),n()}catch(t){n(t)}},e.prototype.chown=function(t,e,r,n,o){try{this.chownSync(t,e,r,n),o()}catch(t){o(t)}},e.prototype.utimes=function(t,e,r,n){try{this.utimesSync(t,e,r),n()}catch(t){n(t)}},e.prototype.link=function(t,e,r){try{this.linkSync(t,e),r()}catch(t){r(t)}},e.prototype.symlink=function(t,e,r,n){try{this.symlinkSync(t,e,r),n()}catch(t){n(t)}},e.prototype.readlink=function(t,e){try{e(null,this.readlinkSync(t))}catch(t){e(t)}},e}(H),K=function(){};K.prototype.sync=function(t){t(new h(a.ENOTSUP))},K.prototype.syncSync=function(){throw new h(a.ENOTSUP)},K.prototype.datasync=function(t){this.sync(t)},K.prototype.datasyncSync=function(){return this.syncSync()},K.prototype.chown=function(t,e,r){r(new h(a.ENOTSUP))},K.prototype.chownSync=function(t,e){throw new h(a.ENOTSUP)},K.prototype.chmod=function(t,e){e(new h(a.ENOTSUP))},K.prototype.chmodSync=function(t){throw new h(a.ENOTSUP)},K.prototype.utimes=function(t,e,r){r(new h(a.ENOTSUP))},K.prototype.utimesSync=function(t,e){throw new h(a.ENOTSUP)};var q=function(t){function e(e,r,n,o,i){t.call(this,e,r,n,o,i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.sync=function(t){t()},e.prototype.syncSync=function(){},e.prototype.close=function(t){t()},e.prototype.closeSync=function(){},e}(function(t){function e(e,r,n,o,i){if(t.call(this),this._pos=0,this._dirty=!1,this._fs=e,this._path=r,this._flag=n,this._stat=o,this._buffer=i||Z(),this._stat.size!==this._buffer.length&&this._flag.isReadable())throw new Error("Invalid buffer: Buffer is "+this._buffer.length+" long, yet Stats object specifies that file is "+this._stat.size+" long.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getBuffer=function(){return this._buffer},e.prototype.getStats=function(){return this._stat},e.prototype.getFlag=function(){return this._flag},e.prototype.getPath=function(){return this._path},e.prototype.getPos=function(){return this._flag.isAppendable()?this._stat.size:this._pos},e.prototype.advancePos=function(t){return this._pos+=t},e.prototype.setPos=function(t){return this._pos=t},e.prototype.sync=function(t){try{this.syncSync(),t()}catch(e){t(e)}},e.prototype.syncSync=function(){throw new h(a.ENOTSUP)},e.prototype.close=function(t){try{this.closeSync(),t()}catch(e){t(e)}},e.prototype.closeSync=function(){throw new h(a.ENOTSUP)},e.prototype.stat=function(t){try{t(null,y.clone(this._stat))}catch(e){t(e)}},e.prototype.statSync=function(){return y.clone(this._stat)},e.prototype.truncate=function(t,e){try{this.truncateSync(t),this._flag.isSynchronous()&&!D.getRootFS().supportsSynch()&&this.sync(e),e()}catch(t){return e(t)}},e.prototype.truncateSync=function(t){if(this._dirty=!0,!this._flag.isWriteable())throw new h(a.EPERM,"File not opened with a writeable mode.");if(this._stat.mtimeMs=Date.now(),t>this._buffer.length){var e=Buffer.alloc(t-this._buffer.length,0);return this.writeSync(e,0,e.length,this._buffer.length),void(this._flag.isSynchronous()&&D.getRootFS().supportsSynch()&&this.syncSync())}this._stat.size=t;var r=Buffer.alloc(t);this._buffer.copy(r,0,0,t),this._buffer=r,this._flag.isSynchronous()&&D.getRootFS().supportsSynch()&&this.syncSync()},e.prototype.write=function(t,e,r,n,o){try{o(null,this.writeSync(t,e,r,n),t)}catch(t){o(t)}},e.prototype.writeSync=function(t,e,r,n){if(this._dirty=!0,void 0!==n&&null!==n||(n=this.getPos()),!this._flag.isWriteable())throw new h(a.EPERM,"File not opened with a writeable mode.");var o=n+r;if(o>this._stat.size&&(this._stat.size=o,o>this._buffer.length)){var i=Buffer.alloc(o);this._buffer.copy(i),this._buffer=i}var s=t.copy(this._buffer,n,e,e+r);return this._stat.mtimeMs=Date.now(),this._flag.isSynchronous()?(this.syncSync(),s):(this.setPos(n+s),s)},e.prototype.read=function(t,e,r,n,o){try{o(null,this.readSync(t,e,r,n),t)}catch(t){o(t)}},e.prototype.readSync=function(t,e,r,n){if(!this._flag.isReadable())throw new h(a.EPERM,"File not opened with a readable mode.");void 0!==n&&null!==n||(n=this.getPos()),n+r>this._stat.size&&(r=this._stat.size-n);var o=this._buffer.copy(t,e,n,n+r);return this._stat.atimeMs=Date.now(),this._pos=n+r,o},e.prototype.chmod=function(t,e){try{this.chmodSync(t),e()}catch(t){e(t)}},e.prototype.chmodSync=function(t){if(!this._fs.supportsProps())throw new h(a.ENOTSUP);this._dirty=!0,this._stat.chmod(t),this.syncSync()},e.prototype.isDirty=function(){return this._dirty},e.prototype.resetDirty=function(){this._dirty=!1},e}(K)),G=function(){};G.str2byte=function(t,e){for(var r=t.length>e.length?e.length:t.length,n=0;n<r;n++){var o=t.charCodeAt(n);if(o>127){var i=G.extendedChars.indexOf(t.charAt(n));i>-1&&(o=i+128)}e[o]=n}return r},G.byte2str=function(t){for(var e=new Array(t.length),r=0;r<t.length;r++){var n=t[r];e[r]=n>127?G.extendedChars[n-128]:String.fromCharCode(n)}return e.join("")},G.byteLength=function(t){return t.length},G.extendedChars=["Ç","ü","é","â","ä","à","å","ç","ê","ë","è","ï","î","ì","Ä","Å","É","æ","Æ","ô","ö","ò","û","ù","ÿ","Ö","Ü","ø","£","Ø","×","ƒ","á","í","ó","ú","ñ","Ñ","ª","º","¿","®","¬","½","¼","¡","«","»","_","_","_","¦","¦","Á","Â","À","©","¦","¦","+","+","¢","¥","+","+","-","-","+","-","+","ã","Ã","+","+","-","-","¦","-","+","¤","ð","Ð","Ê","Ë","È","i","Í","Î","Ï","+","+","_","_","¦","Ì","_","Ó","ß","Ô","Ò","õ","Õ","µ","þ","Þ","Ú","Û","Ù","ý","Ý","¯","´","­","±","_","¾","¶","§","÷","¸","°","¨","·","¹","³","²","_"," "];var J=function(){this._index={},this.addPath("/",new Q)};J.fromListing=function(t){var e=new J,r=new Q;e._index["/"]=r;for(var n=[["",t,r]];n.length>0;){var o=void 0,i=n.pop(),a=i[0],s=i[1],c=i[2];for(var u in s)if(s.hasOwnProperty(u)){var f=s[u],h=a+"/"+u;f?(e._index[h]=o=new Q,n.push([h,f,o])):o=new $(new y(l.FILE,-1,365)),c&&(c._ls[u]=o)}}return e},J.prototype.fileIterator=function(t){for(var e in this._index)if(this._index.hasOwnProperty(e))for(var r=this._index[e],n=0,o=r.getListing();n<o.length;n+=1){var i=o[n],a=r.getItem(i);tt(a)&&t(a.getData())}},J.prototype.addPath=function(t,e){if(!e)throw new Error("Inode must be specified");if("/"!==t[0])throw new Error("Path must be absolute, got: "+t);if(this._index.hasOwnProperty(t))return this._index[t]===e;var r=this._split_path(t),n=r[0],o=r[1],i=this._index[n];return!(void 0===i&&"/"!==t&&(i=new Q,!this.addPath(n,i)))&&(!("/"!==t&&!i.addItem(o,e))&&(et(e)&&(this._index[t]=e),!0))},J.prototype.addPathFast=function(t,e){var r=t.lastIndexOf("/"),n=0===r?"/":t.substring(0,r),o=t.substring(r+1),i=this._index[n];return void 0===i&&(i=new Q,this.addPathFast(n,i)),!!i.addItem(o,e)&&(e.isDir()&&(this._index[t]=e),!0)},J.prototype.removePath=function(t){var e=this._split_path(t),r=e[0],n=e[1],o=this._index[r];if(void 0===o)return null;var i=o.remItem(n);if(null===i)return null;if(et(i)){for(var a=0,s=i.getListing();a<s.length;a+=1){var c=s[a];this.removePath(t+"/"+c)}"/"!==t&&delete this._index[t]}return i},J.prototype.ls=function(t){var e=this._index[t];return void 0===e?null:e.getListing()},J.prototype.getInode=function(t){var e=this._split_path(t),r=e[0],n=e[1],o=this._index[r];return void 0===o?null:r===t?o:o.getItem(n)},J.prototype._split_path=function(t){var e=c.dirname(t);return[e,t.substr(e.length+("/"===e?0:1))]};var $=function(t){this.data=t};$.prototype.isFile=function(){return!0},$.prototype.isDir=function(){return!1},$.prototype.getData=function(){return this.data},$.prototype.setData=function(t){this.data=t};var Q=function(t){void 0===t&&(t=null),this.data=t,this._ls={}};function tt(t){return!!t&&t.isFile()}function et(t){return!!t&&t.isDir()}Q.prototype.isFile=function(){return!1},Q.prototype.isDir=function(){return!0},Q.prototype.getData=function(){return this.data},Q.prototype.getStats=function(){return new y(l.DIRECTORY,4096,365)},Q.prototype.getListing=function(){return Object.keys(this._ls)},Q.prototype.getItem=function(t){var e=this._ls[t];return e||null},Q.prototype.addItem=function(t,e){return!(t in this._ls)&&(this._ls[t]=e,!0)},Q.prototype.remItem=function(t){var e=this._ls[t];return void 0===e?null:(delete this._ls[t],e)};var rt,nt=r(8).inflateRaw,ot={};function it(t,e){return new Date(1980+(e>>9),(e>>5&15)-1,31&e,t>>11,t>>5&63,31&t)}function at(t,e,r,n){return 0===n?"":e?t.toString("utf8",r,r+n):G.byte2str(t.slice(r,r+n))}!function(t){t[t.STORED=0]="STORED",t[t.SHRUNK=1]="SHRUNK",t[t.REDUCED_1=2]="REDUCED_1",t[t.REDUCED_2=3]="REDUCED_2",t[t.REDUCED_3=4]="REDUCED_3",t[t.REDUCED_4=5]="REDUCED_4",t[t.IMPLODE=6]="IMPLODE",t[t.DEFLATE=8]="DEFLATE",t[t.DEFLATE64=9]="DEFLATE64",t[t.TERSE_OLD=10]="TERSE_OLD",t[t.BZIP2=12]="BZIP2",t[t.LZMA=14]="LZMA",t[t.TERSE_NEW=18]="TERSE_NEW",t[t.LZ77=19]="LZ77",t[t.WAVPACK=97]="WAVPACK",t[t.PPMD=98]="PPMD"}(rt||(rt={}));var st=function(t){if(this.data=t,67324752!==t.readUInt32LE(0))throw new h(a.EINVAL,"Invalid Zip file: Local file header has invalid signature: "+this.data.readUInt32LE(0))};st.prototype.versionNeeded=function(){return this.data.readUInt16LE(4)},st.prototype.flags=function(){return this.data.readUInt16LE(6)},st.prototype.compressionMethod=function(){return this.data.readUInt16LE(8)},st.prototype.lastModFileTime=function(){return it(this.data.readUInt16LE(10),this.data.readUInt16LE(12))},st.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(10)},st.prototype.crc32=function(){return this.data.readUInt32LE(14)},st.prototype.fileNameLength=function(){return this.data.readUInt16LE(26)},st.prototype.extraFieldLength=function(){return this.data.readUInt16LE(28)},st.prototype.fileName=function(){return at(this.data,this.useUTF8(),30,this.fileNameLength())},st.prototype.extraField=function(){var t=30+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},st.prototype.totalSize=function(){return 30+this.fileNameLength()+this.extraFieldLength()},st.prototype.useUTF8=function(){return 2048==(2048&this.flags())};var ct=function(t,e,r){this.header=t,this.record=e,this.data=r};ct.prototype.decompress=function(){var t=this.header.compressionMethod(),e=ot[t];if(e)return e(this.data,this.record.compressedSize(),this.record.uncompressedSize(),this.record.flag());var r=rt[t];throw r||(r="Unknown: "+t),new h(a.EINVAL,"Invalid compression method on file '"+this.header.fileName()+"': "+r)},ct.prototype.getHeader=function(){return this.header},ct.prototype.getRecord=function(){return this.record},ct.prototype.getRawData=function(){return this.data};var ut=function(t,e){if(this.zipData=t,this.data=e,33639248!==this.data.readUInt32LE(0))throw new h(a.EINVAL,"Invalid Zip file: Central directory record has invalid signature: "+this.data.readUInt32LE(0));this._filename=this.produceFilename()};ut.prototype.versionMadeBy=function(){return this.data.readUInt16LE(4)},ut.prototype.versionNeeded=function(){return this.data.readUInt16LE(6)},ut.prototype.flag=function(){return this.data.readUInt16LE(8)},ut.prototype.compressionMethod=function(){return this.data.readUInt16LE(10)},ut.prototype.lastModFileTime=function(){return it(this.data.readUInt16LE(12),this.data.readUInt16LE(14))},ut.prototype.rawLastModFileTime=function(){return this.data.readUInt32LE(12)},ut.prototype.crc32=function(){return this.data.readUInt32LE(16)},ut.prototype.compressedSize=function(){return this.data.readUInt32LE(20)},ut.prototype.uncompressedSize=function(){return this.data.readUInt32LE(24)},ut.prototype.fileNameLength=function(){return this.data.readUInt16LE(28)},ut.prototype.extraFieldLength=function(){return this.data.readUInt16LE(30)},ut.prototype.fileCommentLength=function(){return this.data.readUInt16LE(32)},ut.prototype.diskNumberStart=function(){return this.data.readUInt16LE(34)},ut.prototype.internalAttributes=function(){return this.data.readUInt16LE(36)},ut.prototype.externalAttributes=function(){return this.data.readUInt32LE(38)},ut.prototype.headerRelativeOffset=function(){return this.data.readUInt32LE(42)},ut.prototype.produceFilename=function(){return at(this.data,this.useUTF8(),46,this.fileNameLength()).replace(/\\/g,"/")},ut.prototype.fileName=function(){return this._filename},ut.prototype.rawFileName=function(){return this.data.slice(46,46+this.fileNameLength())},ut.prototype.extraField=function(){var t=44+this.fileNameLength();return this.data.slice(t,t+this.extraFieldLength())},ut.prototype.fileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return at(this.data,this.useUTF8(),t,this.fileCommentLength())},ut.prototype.rawFileComment=function(){var t=46+this.fileNameLength()+this.extraFieldLength();return this.data.slice(t,t+this.fileCommentLength())},ut.prototype.totalSize=function(){return 46+this.fileNameLength()+this.extraFieldLength()+this.fileCommentLength()},ut.prototype.isDirectory=function(){var t=this.fileName();return!!(16&this.externalAttributes())||"/"===t.charAt(t.length-1)},ut.prototype.isFile=function(){return!this.isDirectory()},ut.prototype.useUTF8=function(){return 2048==(2048&this.flag())},ut.prototype.isEncrypted=function(){return 1==(1&this.flag())},ut.prototype.getFileData=function(){var t=this.headerRelativeOffset(),e=new st(this.zipData.slice(t));return new ct(e,this,this.zipData.slice(t+e.totalSize()))},ut.prototype.getData=function(){return this.getFileData().decompress()},ut.prototype.getRawData=function(){return this.getFileData().getRawData()},ut.prototype.getStats=function(){return new y(l.FILE,this.uncompressedSize(),365,Date.now(),this.lastModFileTime().getTime())};var ft=function(t){if(this.data=t,101010256!==this.data.readUInt32LE(0))throw new h(a.EINVAL,"Invalid Zip file: End of central directory record has invalid signature: "+this.data.readUInt32LE(0))};ft.prototype.diskNumber=function(){return this.data.readUInt16LE(4)},ft.prototype.cdDiskNumber=function(){return this.data.readUInt16LE(6)},ft.prototype.cdDiskEntryCount=function(){return this.data.readUInt16LE(8)},ft.prototype.cdTotalEntryCount=function(){return this.data.readUInt16LE(10)},ft.prototype.cdSize=function(){return this.data.readUInt32LE(12)},ft.prototype.cdOffset=function(){return this.data.readUInt32LE(16)},ft.prototype.cdZipCommentLength=function(){return this.data.readUInt16LE(20)},ft.prototype.cdZipComment=function(){return at(this.data,!0,22,this.cdZipCommentLength())},ft.prototype.rawCdZipComment=function(){return this.data.slice(22,22+this.cdZipCommentLength())};var ht=function(t){function e(e,r){void 0===r&&(r=""),t.call(this),this.name=r,this._index=new J,this._directoryEntries=[],this._eocd=null,this._index=e.index,this._directoryEntries=e.directoryEntries,this._eocd=e.eocd,this.data=e.data}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,r){try{e._computeIndex(t.zipData,function(n,o){if(o){var i=new e(o,t.name);r(null,i)}else r(n)})}catch(t){r(t)}},e.isAvailable=function(){return!0},e.RegisterDecompressionMethod=function(t,e){ot[t]=e},e._getEOCD=function(t){for(var e=Math.min(65557,t.length-1),r=22;r<e;r++)if(101010256===t.readUInt32LE(t.length-r))return new ft(t.slice(t.length-r));throw new h(a.EINVAL,"Invalid ZIP file: Could not locate End of Central Directory signature.")},e._addToIndex=function(t,e){var r=t.fileName();if("/"===r.charAt(0))throw new h(a.EPERM,"Unexpectedly encountered an absolute path in a zip file. Please file a bug.");"/"===r.charAt(r.length-1)&&(r=r.substr(0,r.length-1)),t.isDirectory()?e.addPathFast("/"+r,new Q(t)):e.addPathFast("/"+r,new $(t))},e._computeIndex=function(t,r){try{var n=new J,o=e._getEOCD(t);if(o.diskNumber()!==o.cdDiskNumber())return r(new h(a.EINVAL,"ZipFS does not support spanned zip files."));var i=o.cdOffset();if(4294967295===i)return r(new h(a.EINVAL,"ZipFS does not support Zip64."));var s=i+o.cdSize();e._computeIndexResponsive(t,n,i,s,r,[],o)}catch(t){r(t)}},e._computeIndexResponsiveTrampoline=function(t,r,n,o,i,a,s){try{e._computeIndexResponsive(t,r,n,o,i,a,s)}catch(t){i(t)}},e._computeIndexResponsive=function(t,r,n,o,i,a,s){if(n<o){for(var c=0;c++<200&&n<o;){var u=new ut(t,t.slice(n));e._addToIndex(u,r),n+=u.totalSize(),a.push(u)}S(function(){e._computeIndexResponsiveTrampoline(t,r,n,o,i,a,s)})}else i(null,new function(t,e,r,n){this.index=t,this.directoryEntries=e,this.eocd=r,this.data=n}(r,a,s,t))},e.prototype.getName=function(){return e.Name+(""!==this.name?" "+this.name:"")},e.prototype.getCentralDirectoryEntry=function(t){var e=this._index.getInode(t);if(null===e)throw h.ENOENT(t);if(tt(e))return e.getData();if(et(e))return e.getData();throw h.EPERM("Invalid inode: "+e)},e.prototype.getCentralDirectoryEntryAt=function(t){var e=this._directoryEntries[t];if(!e)throw new RangeError("Invalid directory index: "+t+".");return e},e.prototype.getNumberOfCentralDirectoryEntries=function(){return this._directoryEntries.length},e.prototype.getEndOfCentralDirectory=function(){return this._eocd},e.prototype.diskSpace=function(t,e){e(this.data.length,0)},e.prototype.isReadOnly=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.statSync=function(t,e){var r,n=this._index.getInode(t);if(null===n)throw h.ENOENT(t);if(tt(n))r=n.getData().getStats();else{if(!et(n))throw new h(a.EINVAL,"Invalid inode.");r=n.getStats()}return r},e.prototype.openSync=function(t,e,r){if(e.isWriteable())throw new h(a.EPERM,t);var n=this._index.getInode(t);if(!n)throw h.ENOENT(t);if(!tt(n))throw h.EISDIR(t);var o=n.getData(),i=o.getStats();switch(e.pathExistsAction()){case f.THROW_EXCEPTION:case f.TRUNCATE_FILE:throw h.EEXIST(t);case f.NOP:return new q(this,t,e,i,o.getData());default:throw new h(a.EINVAL,"Invalid FileMode object.")}},e.prototype.readdirSync=function(t){var e=this._index.getInode(t);if(e){if(et(e))return e.getListing();throw h.ENOTDIR(t)}throw h.ENOENT(t)},e.prototype.readFileSync=function(t,e,r){var n=this.openSync(t,r,420);try{var o=n.getBuffer();return null===e?z(o):o.toString(e)}finally{n.closeSync()}},e}(X);ht.Name="ZipFS",ht.Options={zipData:{type:"object",description:"The zip file as a Buffer object.",validator:V},name:{type:"string",optional:!0,description:"The name of the zip file (optional)."}},ht.CompressionMethod=rt,ht.RegisterDecompressionMethod(rt.DEFLATE,function(t,e,r){return C(nt(t.slice(0,e),{chunkSize:r}))}),ht.RegisterDecompressionMethod(rt.STORED,function(t,e,r){return z(t,0,r)});function pt(t,e,r){return t.toString("ascii",e,e+r).trim()}function lt(t,e,r){if(1===r)return String.fromCharCode(t[e]);for(var n=Math.floor(r/2),o=new Array(n),i=0;i<n;i++){var a=e+(i<<1);o[i]=String.fromCharCode(t[a+1]|t[a]<<8)}return o.join("")}function dt(t,e){var r=parseInt(pt(t,e,4),10),n=parseInt(pt(t,e+4,2),10),o=parseInt(pt(t,e+6,2),10),i=parseInt(pt(t,e+8,2),10),a=parseInt(pt(t,e+10,2),10),s=parseInt(pt(t,e+12,2),10),c=parseInt(pt(t,e+14,2),10);return new Date(r,n,o,i,a,s,100*c)}function yt(t,e){var r=t[e],n=t[e+1],o=t[e+2],i=t[e+3],a=t[e+4],s=t[e+5];return new Date(r,n-1,o,i,a,s)}function gt(t,e){var r=t.slice(e),n=new Ot(r);switch(n.signatureWord()){case 17221:return new Rt(r);case 20548:return new Tt(r);case 21328:return new kt(r);case 21332:return new Lt(r);case 17746:return new At(r);case 17747:return new Ft(r);case 20568:return new Ut(r);case 20558:return new Dt(r);case 21324:return new xt(r);case 20045:return new Bt(r);case 17228:return new Ct(r);case 20556:return new Mt(r);case 21061:return new jt(r);case 21574:return new zt(r);case 21318:return new Yt(r);case 21074:return new Nt(r);default:return n}}function wt(t,e,r,n){r-=4;for(var o=new Array;e<r;){var i=gt(t,e),a=i.length();if(0===a)return o;if(e+=a,i instanceof Lt)break;i instanceof Rt?o=o.concat(i.getEntries(n)):o.push(i)}return o}var _t=function(t){this._data=t};_t.prototype.type=function(){return this._data[0]},_t.prototype.standardIdentifier=function(){return pt(this._data,1,5)},_t.prototype.version=function(){return this._data[6]},_t.prototype.data=function(){return this._data.slice(7,2048)};var mt=function(t){function e(e){t.call(this,e),this._root=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.systemIdentifier=function(){return this._getString32(8)},e.prototype.volumeIdentifier=function(){return this._getString32(40)},e.prototype.volumeSpaceSize=function(){return this._data.readUInt32LE(80)},e.prototype.volumeSetSize=function(){return this._data.readUInt16LE(120)},e.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(124)},e.prototype.logicalBlockSize=function(){return this._data.readUInt16LE(128)},e.prototype.pathTableSize=function(){return this._data.readUInt32LE(132)},e.prototype.locationOfTypeLPathTable=function(){return this._data.readUInt32LE(140)},e.prototype.locationOfOptionalTypeLPathTable=function(){return this._data.readUInt32LE(144)},e.prototype.locationOfTypeMPathTable=function(){return this._data.readUInt32BE(148)},e.prototype.locationOfOptionalTypeMPathTable=function(){return this._data.readUInt32BE(152)},e.prototype.rootDirectoryEntry=function(t){return null===this._root&&(this._root=this._constructRootDirectoryRecord(this._data.slice(156)),this._root.rootCheckForRockRidge(t)),this._root},e.prototype.volumeSetIdentifier=function(){return this._getString(190,128)},e.prototype.publisherIdentifier=function(){return this._getString(318,128)},e.prototype.dataPreparerIdentifier=function(){return this._getString(446,128)},e.prototype.applicationIdentifier=function(){return this._getString(574,128)},e.prototype.copyrightFileIdentifier=function(){return this._getString(702,38)},e.prototype.abstractFileIdentifier=function(){return this._getString(740,36)},e.prototype.bibliographicFileIdentifier=function(){return this._getString(776,37)},e.prototype.volumeCreationDate=function(){return dt(this._data,813)},e.prototype.volumeModificationDate=function(){return dt(this._data,830)},e.prototype.volumeExpirationDate=function(){return dt(this._data,847)},e.prototype.volumeEffectiveDate=function(){return dt(this._data,864)},e.prototype.fileStructureVersion=function(){return this._data[881]},e.prototype.applicationUsed=function(){return this._data.slice(883,1395)},e.prototype.reserved=function(){return this._data.slice(1395,2048)},e.prototype._getString32=function(t){return this._getString(t,32)},e}(_t),Et=function(t){function e(e){if(t.call(this,e),1!==this.type())throw new h(a.EIO,"Invalid primary volume descriptor.")}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.name=function(){return"ISO9660"},e.prototype._constructRootDirectoryRecord=function(t){return new St(t,-1)},e.prototype._getString=function(t,e){return this._getString(t,e)},e}(mt),vt=function(t){function e(e){if(t.call(this,e),2!==this.type())throw new h(a.EIO,"Invalid supplementary volume descriptor.");var r=this.escapeSequence(),n=r[2];if(37!==r[0]||47!==r[1]||64!==n&&67!==n&&69!==n)throw new h(a.EIO,"Unrecognized escape sequence for SupplementaryVolumeDescriptor: "+r.toString())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.name=function(){return"Joliet"},e.prototype.escapeSequence=function(){return this._data.slice(88,120)},e.prototype._constructRootDirectoryRecord=function(t){return new It(t,-1)},e.prototype._getString=function(t,e){return lt(this._data,t,e)},e}(mt),bt=function(t,e){this._suEntries=null,this._fileOrDir=null,this._data=t,this._rockRidgeOffset=e};bt.prototype.hasRockRidge=function(){return this._rockRidgeOffset>-1},bt.prototype.getRockRidgeOffset=function(){return this._rockRidgeOffset},bt.prototype.rootCheckForRockRidge=function(t){var e=this.getDirectory(t);this._rockRidgeOffset=e.getDotEntry(t)._getRockRidgeOffset(t),this._rockRidgeOffset>-1&&(this._fileOrDir=null)},bt.prototype.length=function(){return this._data[0]},bt.prototype.extendedAttributeRecordLength=function(){return this._data[1]},bt.prototype.lba=function(){return 2048*this._data.readUInt32LE(2)},bt.prototype.dataLength=function(){return this._data.readUInt32LE(10)},bt.prototype.recordingDate=function(){return yt(this._data,18)},bt.prototype.fileFlags=function(){return this._data[25]},bt.prototype.fileUnitSize=function(){return this._data[26]},bt.prototype.interleaveGapSize=function(){return this._data[27]},bt.prototype.volumeSequenceNumber=function(){return this._data.readUInt16LE(28)},bt.prototype.identifier=function(){return this._getString(33,this._data[32])},bt.prototype.fileName=function(t){if(this.hasRockRidge()){var e=this._rockRidgeFilename(t);if(null!==e)return e}var r=this.identifier();if(this.isDirectory(t))return r;var n=r.indexOf(";");return-1===n?r:"."===r[n-1]?r.slice(0,n-1):r.slice(0,n)},bt.prototype.isDirectory=function(t){var e=!!(2&this.fileFlags());return!e&&this.hasRockRidge()&&(e=this.getSUEntries(t).filter(function(t){return t instanceof Ct}).length>0),e},bt.prototype.isSymlink=function(t){return this.hasRockRidge()&&this.getSUEntries(t).filter(function(t){return t instanceof xt}).length>0},bt.prototype.getSymlinkPath=function(t){for(var e="",r=this.getSUEntries(t),n=this._getGetString(),o=0,i=r;o<i.length;o+=1){var a=i[o];if(a instanceof xt){for(var s=0,c=a.componentRecords();s<c.length;s+=1){var u=c[s],f=u.flags();2&f?e+="./":4&f?e+="../":8&f?e+="/":(e+=u.content(n),1&f||(e+="/"))}if(!a.continueFlag())break}}return e.length>1&&"/"===e[e.length-1]?e.slice(0,e.length-1):e},bt.prototype.getFile=function(t){if(this.isDirectory(t))throw new Error("Tried to get a File from a directory.");return null===this._fileOrDir&&(this._fileOrDir=t.slice(this.lba(),this.lba()+this.dataLength())),this._fileOrDir},bt.prototype.getDirectory=function(t){if(!this.isDirectory(t))throw new Error("Tried to get a Directory from a file.");return null===this._fileOrDir&&(this._fileOrDir=this._constructDirectory(t)),this._fileOrDir},bt.prototype.getSUEntries=function(t){return this._suEntries||this._constructSUEntries(t),this._suEntries},bt.prototype._rockRidgeFilename=function(t){var e=this.getSUEntries(t).filter(function(t){return t instanceof Bt});if(0===e.length||6&e[0].flags())return null;for(var r="",n=this._getGetString(),o=0,i=e;o<i.length;o+=1){var a=i[o];if(r+=a.name(n),!(1&a.flags()))break}return r},bt.prototype._constructSUEntries=function(t){var e=33+this._data[32];e%2==1&&e++,e+=this._rockRidgeOffset,this._suEntries=wt(this._data,e,this.length(),t)},bt.prototype._getRockRidgeOffset=function(t){this._rockRidgeOffset=0;var e=this.getSUEntries(t);if(e.length>0){var r=e[0];if(r instanceof kt&&r.checkBytesPass())for(var n=1;n<e.length;n++){var o=e[n];if(o instanceof Nt||o instanceof At&&"IEEE_P1282"===o.extensionIdentifier())return r.bytesSkipped()}}return this._rockRidgeOffset=-1,-1};var St=function(t){function e(e,r){t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._getString=function(t,e){return pt(this._data,t,e)},e.prototype._constructDirectory=function(t){return new Vt(this,t)},e.prototype._getGetString=function(){return pt},e}(bt),It=function(t){function e(e,r){t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._getString=function(t,e){return lt(this._data,t,e)},e.prototype._constructDirectory=function(t){return new Wt(this,t)},e.prototype._getGetString=function(){return lt},e}(bt),Ot=function(t){this._data=t};Ot.prototype.signatureWord=function(){return this._data.readUInt16BE(0)},Ot.prototype.signatureWordString=function(){return pt(this._data,0,2)},Ot.prototype.length=function(){return this._data[2]},Ot.prototype.suVersion=function(){return this._data[3]};var Rt=function(t){function e(e){t.call(this,e),this._entries=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.continuationLba=function(){return this._data.readUInt32LE(4)},e.prototype.continuationLbaOffset=function(){return this._data.readUInt32LE(12)},e.prototype.continuationLength=function(){return this._data.readUInt32LE(20)},e.prototype.getEntries=function(t){if(!this._entries){var e=2048*this.continuationLba()+this.continuationLbaOffset();this._entries=wt(t,e,this.continuationLength(),t)}return this._entries},e}(Ot),Tt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot),kt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.checkBytesPass=function(){return 190===this._data[4]&&239===this._data[5]},e.prototype.bytesSkipped=function(){return this._data[6]},e}(Ot),Lt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot),At=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.identifierLength=function(){return this._data[4]},e.prototype.descriptorLength=function(){return this._data[5]},e.prototype.sourceLength=function(){return this._data[6]},e.prototype.extensionVersion=function(){return this._data[7]},e.prototype.extensionIdentifier=function(){return pt(this._data,8,this.identifierLength())},e.prototype.extensionDescriptor=function(){return pt(this._data,8+this.identifierLength(),this.descriptorLength())},e.prototype.extensionSource=function(){return pt(this._data,8+this.identifierLength()+this.descriptorLength(),this.sourceLength())},e}(Ot),Ft=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.extensionSequence=function(){return this._data[4]},e}(Ot),Nt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot),Ut=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.mode=function(){return this._data.readUInt32LE(4)},e.prototype.fileLinks=function(){return this._data.readUInt32LE(12)},e.prototype.uid=function(){return this._data.readUInt32LE(20)},e.prototype.gid=function(){return this._data.readUInt32LE(28)},e.prototype.inode=function(){return this._data.readUInt32LE(36)},e}(Ot),Dt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.devTHigh=function(){return this._data.readUInt32LE(4)},e.prototype.devTLow=function(){return this._data.readUInt32LE(12)},e}(Ot),xt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flags=function(){return this._data[4]},e.prototype.continueFlag=function(){return 1&this.flags()},e.prototype.componentRecords=function(){for(var t=new Array,e=5;e<this.length();){var r=new Pt(this._data.slice(e));t.push(r),e+=r.length()}return t},e}(Ot),Pt=function(t){this._data=t};Pt.prototype.flags=function(){return this._data[0]},Pt.prototype.length=function(){return 2+this.componentLength()},Pt.prototype.componentLength=function(){return this._data[1]},Pt.prototype.content=function(t){return t(this._data,2,this.componentLength())};var Bt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flags=function(){return this._data[4]},e.prototype.name=function(t){return t(this._data,5,this.length()-5)},e}(Ot),Ct=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.childDirectoryLba=function(){return this._data.readUInt32LE(4)},e}(Ot),Mt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.parentDirectoryLba=function(){return this._data.readUInt32LE(4)},e}(Ot),jt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Ot),zt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flags=function(){return this._data[4]},e.prototype.creation=function(){return 1&this.flags()?this._longFormDates()?dt(this._data,5):yt(this._data,5):null},e.prototype.modify=function(){if(2&this.flags()){var t=1&this.flags()?1:0;return this._longFormDates()?dt(this._data,5+17*t):yt(this._data,5+7*t)}return null},e.prototype.access=function(){if(4&this.flags()){var t=1&this.flags()?1:0;return t+=2&this.flags()?1:0,this._longFormDates()?dt(this._data,5+17*t):yt(this._data,5+7*t)}return null},e.prototype.backup=function(){if(16&this.flags()){var t=1&this.flags()?1:0;return t+=2&this.flags()?1:0,t+=4&this.flags()?1:0,this._longFormDates()?dt(this._data,5+17*t):yt(this._data,5+7*t)}return null},e.prototype.expiration=function(){if(32&this.flags()){var t=1&this.flags()?1:0;return t+=2&this.flags()?1:0,t+=4&this.flags()?1:0,t+=16&this.flags()?1:0,this._longFormDates()?dt(this._data,5+17*t):yt(this._data,5+7*t)}return null},e.prototype.effective=function(){if(64&this.flags()){var t=1&this.flags()?1:0;return t+=2&this.flags()?1:0,t+=4&this.flags()?1:0,t+=16&this.flags()?1:0,t+=32&this.flags()?1:0,this._longFormDates()?dt(this._data,5+17*t):yt(this._data,5+7*t)}return null},e.prototype._longFormDates=function(){return!!this.flags()},e}(Ot),Yt=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.virtualSizeHigh=function(){return this._data.readUInt32LE(4)},e.prototype.virtualSizeLow=function(){return this._data.readUInt32LE(12)},e.prototype.tableDepth=function(){return this._data[20]},e}(Ot),Zt=function(t,e){this._fileList=[],this._fileMap={},this._record=t;var r=t.lba(),n=r+t.dataLength();2&t.fileFlags()||(r=2048*t.getSUEntries(e).filter(function(t){return t instanceof Ct})[0].childDirectoryLba(),n=1/0);for(;r<n;){if(0!==e[r]){var o=this._constructDirectoryRecord(e.slice(r)),i=o.fileName(e);"\0"!==i&&""!==i?o.hasRockRidge()&&0!==o.getSUEntries(e).filter(function(t){return t instanceof jt}).length||(this._fileMap[i]=o,this._fileList.push(i)):n===1/0&&(n=r+o.dataLength()),r+=o.length()}else r++}};Zt.prototype.getRecord=function(t){return this._fileMap[t]},Zt.prototype.getFileList=function(){return this._fileList},Zt.prototype.getDotEntry=function(t){return this._constructDirectoryRecord(t.slice(this._record.lba()))};var Vt=function(t){function e(e,r){t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._constructDirectoryRecord=function(t){return new St(t,this._record.getRockRidgeOffset())},e}(Zt),Wt=function(t){function e(e,r){t.call(this,e,r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._constructDirectoryRecord=function(t){return new It(t,this._record.getRockRidgeOffset())},e}(Zt),Ht=function(t){function e(e,r){var n=this;void 0===r&&(r=""),t.call(this),this._data=e;for(var o=!1,i=32768,s=new Array;!o;){var c=e.slice(i);switch(new _t(c).type()){case 1:s.push(new Et(c));break;case 2:s.push(new vt(c));break;case 255:o=!0}i+=2048}if(0===s.length)throw new h(a.EIO,"Unable to find a suitable volume descriptor.");s.forEach(function(t){n._pvd&&2===n._pvd.type()||(n._pvd=t)}),this._root=this._pvd.rootDirectoryEntry(e),this._name=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.Create=function(t,r){try{r(null,new e(t.data,t.name))}catch(t){r(t)}},e.isAvailable=function(){return!0},e.prototype.getName=function(){var t="IsoFS"+this._name+(this._pvd?"-"+this._pvd.name():"");return this._root&&this._root.hasRockRidge()&&(t+="-RockRidge"),t},e.prototype.diskSpace=function(t,e){e(this._data.length,0)},e.prototype.isReadOnly=function(){return!0},e.prototype.supportsLinks=function(){return!1},e.prototype.supportsProps=function(){return!1},e.prototype.supportsSynch=function(){return!0},e.prototype.statSync=function(t,e){var r=this._getDirectoryRecord(t);if(null===r)throw h.ENOENT(t);return this._getStats(t,r)},e.prototype.openSync=function(t,e,r){if(e.isWriteable())throw new h(a.EPERM,t);var n=this._getDirectoryRecord(t);if(!n)throw h.ENOENT(t);if(n.isSymlink(this._data))return this.openSync(c.resolve(t,n.getSymlinkPath(this._data)),e,r);if(n.isDirectory(this._data))throw h.EISDIR(t);var o=n.getFile(this._data),i=this._getStats(t,n);switch(e.pathExistsAction()){case f.THROW_EXCEPTION:case f.TRUNCATE_FILE:throw h.EEXIST(t);case f.NOP:return new q(this,t,e,i,o);default:throw new h(a.EINVAL,"Invalid FileMode object.")}},e.prototype.readdirSync=function(t){var e=this._getDirectoryRecord(t);if(e){if(e.isDirectory(this._data))return e.getDirectory(this._data).getFileList().slice(0);throw h.ENOTDIR(t)}throw h.ENOENT(t)},e.prototype.readFileSync=function(t,e,r){var n=this.openSync(t,r,420);try{var o=n.getBuffer();return null===e?z(o):o.toString(e)}finally{n.closeSync()}},e.prototype._getDirectoryRecord=function(t){if("/"===t)return this._root;for(var e=t.split("/").slice(1),r=this._root,n=0,o=e;n<o.length;n+=1){var i=o[n];if(!r.isDirectory(this._data))return null;if(!(r=r.getDirectory(this._data).getRecord(i)))return null}return r},e.prototype._getStats=function(t,e){if(e.isSymlink(this._data)){var r=c.resolve(t,e.getSymlinkPath(this._data)),n=this._getDirectoryRecord(r);return n?this._getStats(r,n):null}var o=e.dataLength(),i=365,a=e.recordingDate().getTime(),s=a,u=a,f=a;if(e.hasRockRidge())for(var h=0,p=e.getSUEntries(this._data);h<p.length;h+=1){var d=p[h];if(d instanceof Ut)i=d.mode();else if(d instanceof zt){var g=d.flags();4&g&&(s=d.access().getTime()),2&g&&(u=d.modify().getTime()),1&g&&(f=d.creation().getTime())}}return i&=365,new y(e.isDirectory(this._data)?l.DIRECTORY:l.FILE,o,i,s,u,f)},e}(X);Ht.Name="IsoFS",Ht.Options={data:{type:"object",description:"The ISO file in a buffer",validator:V}};var Xt={IsoFS:Ht,ZipFS:ht};function Kt(t){switch(t){case"fs":return D;case"path":return c;case"buffer":return s;case"process":return process;case"bfs_utils":return W;default:return Xt[t]}}function qt(t){return D.initialize(t)}function Gt(t,e){var r=t.fs;if(!r)return e(new h(a.EPERM,'Missing "fs" property on configuration object.'));var n=t.options,o=0,i=!1;function s(){if(!i){i=!0;var t=Xt[r];t?t.Create(n,e):e(new h(a.EPERM,"File system "+r+" is not available in BrowserFS."))}}if(null!==n&&"object"==typeof n){var c=!1;Object.keys(n).filter(function(t){return"fs"!==t}).forEach(function(t){var r=n[t];null!==r&&"object"==typeof r&&r.fs&&(o++,Gt(r,function(r,a){if(o--,r){if(i)return;i=!0,e(r)}else n[t]=a,0===o&&c&&s()}))}),c=!0}0===o&&s()}process.initializeTTYs&&process.initializeTTYs(),e.BFSRequire=Kt,e.Errors=p,e.FileSystem=Xt,e.configure=function(t,e){Gt(t,function(t,r){r?(qt(r),e()):e(t)})},e.getFileSystem=Gt,e.initialize=qt,e.install=function(t){t.Buffer=Buffer,t.process=process;var e=t.require?t.require:null;t.require=function(t){var r=Kt(t);return r||e.apply(null,Array.prototype.slice.call(arguments,0))}},e.registerFileSystem=function(t,e){Xt[t]=e}}).call(this,r(1))},function(t,e,r){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=r(4),o=r(5),i=r(6);function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=c.prototype:(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,r){if(!(c.TYPED_ARRAY_SUPPORT||this instanceof c))return new c(t,e,r);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return u(this,t,e,r)}function u(t,e,r,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,r,n){if(e.byteLength,r<0||e.byteLength<r)throw new RangeError("'offset' is out of bounds");if(e.byteLength<r+(n||0))throw new RangeError("'length' is out of bounds");e=void 0===r&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,r):new Uint8Array(e,r,n);c.TYPED_ARRAY_SUPPORT?(t=e).__proto__=c.prototype:t=p(t,e);return t}(t,e,r,n):"string"==typeof e?function(t,e,r){"string"==typeof r&&""!==r||(r="utf8");if(!c.isEncoding(r))throw new TypeError('"encoding" must be a valid string encoding');var n=0|d(e,r),o=(t=s(t,n)).write(e,r);o!==n&&(t=t.slice(0,o));return t}(t,e,r):function(t,e){if(c.isBuffer(e)){var r=0|l(e.length);return 0===(t=s(t,r)).length?t:(e.copy(t,0,0,r),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||function(t){return t!=t}(e.length)?s(t,0):p(t,e);if("Buffer"===e.type&&i(e.data))return p(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function f(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(f(e),t=s(t,e<0?0:0|l(e)),!c.TYPED_ARRAY_SUPPORT)for(var r=0;r<e;++r)t[r]=0;return t}function p(t,e){var r=e.length<0?0:0|l(e.length);t=s(t,r);for(var n=0;n<r;n+=1)t[n]=255&e[n];return t}function l(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function d(t,e){if(c.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var r=t.length;if(0===r)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":case void 0:return j(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return z(t).length;default:if(n)return j(t).length;e=(""+e).toLowerCase(),n=!0}}function y(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function g(t,e,r,n,o){if(0===t.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,isNaN(r)&&(r=o?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(o)return-1;r=t.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:w(t,e,r,n,o);if("number"==typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):w(t,[e],r,n,o);throw new TypeError("val must be string, number or Buffer")}function w(t,e,r,n,o){var i,a=1,s=t.length,c=e.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,c/=2,r/=2}function u(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}if(o){var f=-1;for(i=r;i<s;i++)if(u(t,i)===u(e,-1===f?0:i-f)){if(-1===f&&(f=i),i-f+1===c)return f*a}else-1!==f&&(i-=i-f),f=-1}else for(r+c>s&&(r=s-c),i=r;i>=0;i--){for(var h=!0,p=0;p<c;p++)if(u(t,i+p)!==u(e,p)){h=!1;break}if(h)return i}return-1}function _(t,e,r,n){r=Number(r)||0;var o=t.length-r;n?(n=Number(n))>o&&(n=o):n=o;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[r+a]=s}return a}function m(t,e,r,n){return Y(j(e,t.length-r),t,r,n)}function E(t,e,r,n){return Y(function(t){for(var e=[],r=0;r<t.length;++r)e.push(255&t.charCodeAt(r));return e}(e),t,r,n)}function v(t,e,r,n){return E(t,e,r,n)}function b(t,e,r,n){return Y(z(e),t,r,n)}function S(t,e,r,n){return Y(function(t,e){for(var r,n,o,i=[],a=0;a<t.length&&!((e-=2)<0);++a)r=t.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(e,t.length-r),t,r,n)}function I(t,e,r){return 0===e&&r===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,r))}function O(t,e,r){r=Math.min(t.length,r);for(var n=[],o=e;o<r;){var i,a,s,c,u=t[o],f=null,h=u>239?4:u>223?3:u>191?2:1;if(o+h<=r)switch(h){case 1:u<128&&(f=u);break;case 2:128==(192&(i=t[o+1]))&&(c=(31&u)<<6|63&i)>127&&(f=c);break;case 3:i=t[o+1],a=t[o+2],128==(192&i)&&128==(192&a)&&(c=(15&u)<<12|(63&i)<<6|63&a)>2047&&(c<55296||c>57343)&&(f=c);break;case 4:i=t[o+1],a=t[o+2],s=t[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(c=(15&u)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&c<1114112&&(f=c)}null===f?(f=65533,h=1):f>65535&&(f-=65536,n.push(f>>>10&1023|55296),f=56320|1023&f),n.push(f),o+=h}return function(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);var r="",n=0;for(;n<e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=R));return r}(n)}e.Buffer=c,e.SlowBuffer=function(t){+t!=t&&(t=0);return c.alloc(+t)},e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,r){return u(null,t,e,r)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,r){return function(t,e,r,n){return f(e),e<=0?s(t,e):void 0!==r?"string"==typeof n?s(t,e).fill(r,n):s(t,e).fill(r):s(t,e)}(null,t,e,r)},c.allocUnsafe=function(t){return h(null,t)},c.allocUnsafeSlow=function(t){return h(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var r=t.length,n=e.length,o=0,i=Math.min(r,n);o<i;++o)if(t[o]!==e[o]){r=t[o],n=e[o];break}return r<n?-1:n<r?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var r;if(void 0===e)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=c.allocUnsafe(e),o=0;for(r=0;r<t.length;++r){var a=t[r];if(!c.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(n,o),o+=a.length}return n},c.byteLength=d,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)y(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)y(this,e,e+3),y(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)y(this,e,e+7),y(this,e+1,e+6),y(this,e+2,e+5),y(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):function(t,e,r){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return L(this,e,r);case"utf8":case"utf-8":return O(this,e,r);case"ascii":return T(this,e,r);case"latin1":case"binary":return k(this,e,r);case"base64":return I(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",r=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,r,n,o){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===r&&(r=t?t.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),e<0||r>t.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&e>=r)return 0;if(n>=o)return-1;if(e>=r)return 1;if(e>>>=0,r>>>=0,n>>>=0,o>>>=0,this===t)return 0;for(var i=o-n,a=r-e,s=Math.min(i,a),u=this.slice(n,o),f=t.slice(e,r),h=0;h<s;++h)if(u[h]!==f[h]){i=u[h],a=f[h];break}return i<a?-1:a<i?1:0},c.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},c.prototype.indexOf=function(t,e,r){return g(this,t,e,r,!0)},c.prototype.lastIndexOf=function(t,e,r){return g(this,t,e,r,!1)},c.prototype.write=function(t,e,r,n){if(void 0===e)n="utf8",r=this.length,e=0;else if(void 0===r&&"string"==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(r)?(r|=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var o=this.length-e;if((void 0===r||r>o)&&(r=o),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return _(this,t,e,r);case"utf8":case"utf-8":return m(this,t,e,r);case"ascii":return E(this,t,e,r);case"latin1":case"binary":return v(this,t,e,r);case"base64":return b(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,t,e,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function T(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(127&t[o]);return n}function k(t,e,r){var n="";r=Math.min(t.length,r);for(var o=e;o<r;++o)n+=String.fromCharCode(t[o]);return n}function L(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var o="",i=e;i<r;++i)o+=M(t[i]);return o}function A(t,e,r){for(var n=t.slice(e,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function F(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function N(t,e,r,n,o,i){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>o||e<i)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function U(t,e,r,n){e<0&&(e=65535+e+1);for(var o=0,i=Math.min(t.length-r,2);o<i;++o)t[r+o]=(e&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function D(t,e,r,n){e<0&&(e=4294967295+e+1);for(var o=0,i=Math.min(t.length-r,4);o<i;++o)t[r+o]=e>>>8*(n?o:3-o)&255}function x(t,e,r,n,o,i){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function P(t,e,r,n,i){return i||x(t,0,r,4),o.write(t,e,r,n,23,4),r+4}function B(t,e,r,n,i){return i||x(t,0,r,8),o.write(t,e,r,n,52,8),r+8}c.prototype.slice=function(t,e){var r,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)(r=this.subarray(t,e)).__proto__=c.prototype;else{var o=e-t;r=new c(o,void 0);for(var i=0;i<o;++i)r[i]=this[i+t]}return r},c.prototype.readUIntLE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n},c.prototype.readUIntBE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=this[t+--e],o=1;e>0&&(o*=256);)n+=this[t+--e]*o;return n},c.prototype.readUInt8=function(t,e){return e||F(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||F(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||F(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||F(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||F(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=this[t],o=1,i=0;++i<e&&(o*=256);)n+=this[t+i]*o;return n>=(o*=128)&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,r){t|=0,e|=0,r||F(t,e,this.length);for(var n=e,o=1,i=this[t+--n];n>0&&(o*=256);)i+=this[t+--n]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*e)),i},c.prototype.readInt8=function(t,e){return e||F(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||F(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(t,e){e||F(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(t,e){return e||F(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||F(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||F(t,4,this.length),o.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||F(t,4,this.length),o.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||F(t,8,this.length),o.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||F(t,8,this.length),o.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||N(this,t,e,r,Math.pow(2,8*r)-1,0);var o=1,i=0;for(this[e]=255&t;++i<r&&(o*=256);)this[e+i]=t/o&255;return e+r},c.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e|=0,r|=0,n)||N(this,t,e,r,Math.pow(2,8*r)-1,0);var o=r-1,i=1;for(this[e+o]=255&t;--o>=0&&(i*=256);)this[e+o]=t/i&255;return e+r},c.prototype.writeUInt8=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):D(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);N(this,t,e,r,o-1,-o)}var i=0,a=1,s=0;for(this[e]=255&t;++i<r&&(a*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},c.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e|=0,!n){var o=Math.pow(2,8*r-1);N(this,t,e,r,o-1,-o)}var i=r-1,a=1,s=0;for(this[e+i]=255&t;--i>=0&&(a*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/a>>0)-s&255;return e+r},c.prototype.writeInt8=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):D(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,r){return t=+t,e|=0,r||N(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):D(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,r){return P(this,t,e,!0,r)},c.prototype.writeFloatBE=function(t,e,r){return P(this,t,e,!1,r)},c.prototype.writeDoubleLE=function(t,e,r){return B(this,t,e,!0,r)},c.prototype.writeDoubleBE=function(t,e,r){return B(this,t,e,!1,r)},c.prototype.copy=function(t,e,r,n){if(r||(r=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var o,i=n-r;if(this===t&&r<e&&e<n)for(o=i-1;o>=0;--o)t[o+e]=this[o+r];else if(i<1e3||!c.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,r+i),e);return i},c.prototype.fill=function(t,e,r,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),1===t.length){var o=t.charCodeAt(0);o<256&&(t=o)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var i;if(e>>>=0,r=void 0===r?this.length:r>>>0,t||(t=0),"number"==typeof t)for(i=e;i<r;++i)this[i]=t;else{var a=c.isBuffer(t)?t:j(new c(t,n).toString()),s=a.length;for(i=0;i<r-e;++i)this[i+e]=a[i%s]}return this};var C=/[^+\/0-9A-Za-z-_]/g;function M(t){return t<16?"0"+t.toString(16):t.toString(16)}function j(t,e){var r;e=e||1/0;for(var n=t.length,o=null,i=[],a=0;a<n;++a){if((r=t.charCodeAt(a))>55295&&r<57344){if(!o){if(r>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(e-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(e-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((e-=1)<0)break;i.push(r)}else if(r<2048){if((e-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function z(t){return n.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(C,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function Y(t,e,r,n){for(var o=0;o<n&&!(o+r>=e.length||o>=t.length);++o)e[o+r]=t[o];return o}}).call(this,r(1))},function(t,e,r){"use strict";e.byteLength=function(t){var e=u(t),r=e[0],n=e[1];return 3*(r+n)/4-n},e.toByteArray=function(t){var e,r,n=u(t),a=n[0],s=n[1],c=new i(function(t,e,r){return 3*(e+r)/4-r}(0,a,s)),f=0,h=s>0?a-4:a;for(r=0;r<h;r+=4)e=o[t.charCodeAt(r)]<<18|o[t.charCodeAt(r+1)]<<12|o[t.charCodeAt(r+2)]<<6|o[t.charCodeAt(r+3)],c[f++]=e>>16&255,c[f++]=e>>8&255,c[f++]=255&e;2===s&&(e=o[t.charCodeAt(r)]<<2|o[t.charCodeAt(r+1)]>>4,c[f++]=255&e);1===s&&(e=o[t.charCodeAt(r)]<<10|o[t.charCodeAt(r+1)]<<4|o[t.charCodeAt(r+2)]>>2,c[f++]=e>>8&255,c[f++]=255&e);return c},e.fromByteArray=function(t){for(var e,r=t.length,o=r%3,i=[],a=0,s=r-o;a<s;a+=16383)i.push(h(t,a,a+16383>s?s:a+16383));1===o?(e=t[r-1],i.push(n[e>>2]+n[e<<4&63]+"==")):2===o&&(e=(t[r-2]<<8)+t[r-1],i.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"="));return i.join("")};for(var n=[],o=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,c=a.length;s<c;++s)n[s]=a[s],o[a.charCodeAt(s)]=s;function u(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return-1===r&&(r=e),[r,r===e?0:4-r%4]}function f(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function h(t,e,r){for(var n,o=[],i=e;i<r;i+=3)n=(t[i]<<16&16711680)+(t[i+1]<<8&65280)+(255&t[i+2]),o.push(f(n));return o.join("")}o["-".charCodeAt(0)]=62,o["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,r,n,o){var i,a,s=8*o-n-1,c=(1<<s)-1,u=c>>1,f=-7,h=r?o-1:0,p=r?-1:1,l=t[e+h];for(h+=p,i=l&(1<<-f)-1,l>>=-f,f+=s;f>0;i=256*i+t[e+h],h+=p,f-=8);for(a=i&(1<<-f)-1,i>>=-f,f+=n;f>0;a=256*a+t[e+h],h+=p,f-=8);if(0===i)i=1-u;else{if(i===c)return a?NaN:1/0*(l?-1:1);a+=Math.pow(2,n),i-=u}return(l?-1:1)*a*Math.pow(2,i-n)},e.write=function(t,e,r,n,o,i){var a,s,c,u=8*i-o-1,f=(1<<u)-1,h=f>>1,p=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,l=n?0:i-1,d=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-a))<1&&(a--,c*=2),(e+=a+h>=1?p/c:p*Math.pow(2,1-h))*c>=2&&(a++,c/=2),a+h>=f?(s=0,a=f):a+h>=1?(s=(e*c-1)*Math.pow(2,o),a+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,o),a=0));o>=8;t[r+l]=255&s,l+=d,s/=256,o-=8);for(a=a<<o|s,u+=o;u>0;t[r+l]=255&a,l+=d,a/=256,u-=8);t[r+l-d]|=128*y}},function(t,e){var r={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==r.call(t)}},function(t,e){function r(t,e){for(var r=0,n=t.length-1;n>=0;n--){var o=t[n];"."===o?t.splice(n,1):".."===o?(t.splice(n,1),r++):r&&(t.splice(n,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return n.exec(t).slice(1)};function i(t,e){if(t.filter)return t.filter(e);for(var r=[],n=0;n<t.length;n++)e(t[n],n,t)&&r.push(t[n]);return r}e.resolve=function(){for(var t="",e=!1,n=arguments.length-1;n>=-1&&!e;n--){var o=n>=0?arguments[n]:process.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,e="/"===o.charAt(0))}return t=r(i(t.split("/"),function(t){return!!t}),!e).join("/"),(e?"/":"")+t||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===a(t,-1);return(t=r(i(t.split("/"),function(t){return!!t}),!n).join("/"))||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,r){function n(t){for(var e=0;e<t.length&&""===t[e];e++);for(var r=t.length-1;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}t=e.resolve(t).substr(1),r=e.resolve(r).substr(1);for(var o=n(t.split("/")),i=n(r.split("/")),a=Math.min(o.length,i.length),s=a,c=0;c<a;c++)if(o[c]!==i[c]){s=c;break}var u=[];for(c=s;c<o.length;c++)u.push("..");return(u=u.concat(i.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=o(t),r=e[0],n=e[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},e.basename=function(t,e){var r=o(t)[2];return e&&r.substr(-1*e.length)===e&&(r=r.substr(0,r.length-e.length)),r},e.extname=function(t){return o(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,r){return t.substr(e,r)}:function(t,e,r){return e<0&&(e=t.length+e),t.substr(e,r)}},function(t,e,r){"use strict";const n=r(9),o=r(14),i=r(15),a=r(16),s=r(17),c=r(18),u=Object.prototype.toString,{Z_NO_FLUSH:f,Z_FINISH:h,Z_OK:p,Z_STREAM_END:l,Z_NEED_DICT:d,Z_STREAM_ERROR:y,Z_DATA_ERROR:g,Z_MEM_ERROR:w}=r(0);function _(t){this.options=o.assign({chunkSize:65536,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;let r=n.inflateInit2(this.strm,e.windowBits);if(r!==p)throw new Error(a[r]);if(this.header=new c,n.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=i.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=n.inflateSetDictionary(this.strm,e.dictionary))!==p))throw new Error(a[r])}function m(t,e){const r=new _(e);if(r.push(t),r.err)throw r.msg||a[r.err];return r.result}_.prototype.push=function(t,e){const r=this.strm,o=this.options.chunkSize,a=this.options.dictionary;let s,c,_;if(this.ended)return!1;for(c=e===~~e?e:!0===e?h:f,"[object ArrayBuffer]"===u.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(0===r.avail_out&&(r.output=new Uint8Array(o),r.next_out=0,r.avail_out=o),(s=n.inflate(r,c))===d&&a&&((s=n.inflateSetDictionary(r,a))===p?s=n.inflate(r,c):s===g&&(s=d));r.avail_in>0&&s===l&&r.state.wrap>0&&0!==t[r.next_in];)n.inflateReset(r),s=n.inflate(r,c);switch(s){case y:case g:case d:case w:return this.onEnd(s),this.ended=!0,!1}if(_=r.avail_out,r.next_out&&(0===r.avail_out||s===l))if("string"===this.options.to){let t=i.utf8border(r.output,r.next_out),e=r.next_out-t,n=i.buf2string(r.output,t);r.next_out=e,r.avail_out=o-e,e&&r.output.set(r.output.subarray(t,t+e),0),this.onData(n)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(s!==p||0!==_){if(s===l)return s=n.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(0===r.avail_in)break}}return!0},_.prototype.onData=function(t){this.chunks.push(t)},_.prototype.onEnd=function(t){t===p&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},t.exports.Inflate=_,t.exports.inflate=m,t.exports.inflateRaw=function(t,e){return(e=e||{}).raw=!0,m(t,e)},t.exports.ungzip=m,t.exports.constants=r(0)},function(t,e,r){"use strict";const n=r(10),o=r(11),i=r(12),a=r(13),{Z_FINISH:s,Z_BLOCK:c,Z_TREES:u,Z_OK:f,Z_STREAM_END:h,Z_NEED_DICT:p,Z_STREAM_ERROR:l,Z_DATA_ERROR:d,Z_MEM_ERROR:y,Z_BUF_ERROR:g,Z_DEFLATED:w}=r(0),_=16209,m=t=>(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24);const E=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<16180||e.mode>16211?1:0},v=t=>{if(E(t))return l;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=16180,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,f},b=t=>{if(E(t))return l;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,v(t)},S=(t,e)=>{let r;if(E(t))return l;const n=t.state;return e<0?(r=0,e=-e):(r=5+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?l:(null!==n.window&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,b(t))},I=(t,e)=>{if(!t)return l;const r=new function(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0};t.state=r,r.strm=t,r.window=null,r.mode=16180;const n=S(t,e);return n!==f&&(t.state=null),n};let O,R,T=!0;const k=t=>{if(T){O=new Int32Array(512),R=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(a(1,t.lens,0,288,O,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;a(2,t.lens,0,32,R,0,t.work,{bits:5}),T=!1}t.lencode=O,t.lenbits=9,t.distcode=R,t.distbits=5},L=(t,e,r,n)=>{let o;const i=t.state;return null===i.window&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):((o=i.wsize-i.wnext)>n&&(o=n),i.window.set(e.subarray(r-n,r-n+o),i.wnext),(n-=o)?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=o,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=o))),0};t.exports.inflateReset=b,t.exports.inflateReset2=S,t.exports.inflateResetKeep=v,t.exports.inflateInit=(t=>I(t,15)),t.exports.inflateInit2=I,t.exports.inflate=((t,e)=>{let r,v,b,S,I,O,R,T,A,F,N,U,D,x,P,B,C,M,j,z,Y,Z,V=0;const W=new Uint8Array(4);let H,X;const K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(E(t)||!t.output||!t.input&&0!==t.avail_in)return l;16191===(r=t.state).mode&&(r.mode=16192),I=t.next_out,b=t.output,R=t.avail_out,S=t.next_in,v=t.input,O=t.avail_in,T=r.hold,A=r.bits,F=O,N=R,Z=f;t:for(;;)switch(r.mode){case 16180:if(0===r.wrap){r.mode=16192;break}for(;A<16;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}if(2&r.wrap&&35615===T){0===r.wbits&&(r.wbits=15),r.check=0,W[0]=255&T,W[1]=T>>>8&255,r.check=o(r.check,W,2,0),T=0,A=0,r.mode=16181;break}if(r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&T)<<8)+(T>>8))%31){t.msg="incorrect header check",r.mode=_;break}if((15&T)!==w){t.msg="unknown compression method",r.mode=_;break}if(A-=4,Y=8+(15&(T>>>=4)),0===r.wbits&&(r.wbits=Y),Y>15||Y>r.wbits){t.msg="invalid window size",r.mode=_;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=512&T?16189:16191,T=0,A=0;break;case 16181:for(;A<16;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}if(r.flags=T,(255&r.flags)!==w){t.msg="unknown compression method",r.mode=_;break}if(57344&r.flags){t.msg="unknown header flags set",r.mode=_;break}r.head&&(r.head.text=T>>8&1),512&r.flags&&4&r.wrap&&(W[0]=255&T,W[1]=T>>>8&255,r.check=o(r.check,W,2,0)),T=0,A=0,r.mode=16182;case 16182:for(;A<32;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}r.head&&(r.head.time=T),512&r.flags&&4&r.wrap&&(W[0]=255&T,W[1]=T>>>8&255,W[2]=T>>>16&255,W[3]=T>>>24&255,r.check=o(r.check,W,4,0)),T=0,A=0,r.mode=16183;case 16183:for(;A<16;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}r.head&&(r.head.xflags=255&T,r.head.os=T>>8),512&r.flags&&4&r.wrap&&(W[0]=255&T,W[1]=T>>>8&255,r.check=o(r.check,W,2,0)),T=0,A=0,r.mode=16184;case 16184:if(1024&r.flags){for(;A<16;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}r.length=T,r.head&&(r.head.extra_len=T),512&r.flags&&4&r.wrap&&(W[0]=255&T,W[1]=T>>>8&255,r.check=o(r.check,W,2,0)),T=0,A=0}else r.head&&(r.head.extra=null);r.mode=16185;case 16185:if(1024&r.flags&&((U=r.length)>O&&(U=O),U&&(r.head&&(Y=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(v.subarray(S,S+U),Y)),512&r.flags&&4&r.wrap&&(r.check=o(r.check,v,U,S)),O-=U,S+=U,r.length-=U),r.length))break t;r.length=0,r.mode=16186;case 16186:if(2048&r.flags){if(0===O)break t;U=0;do{Y=v[S+U++],r.head&&Y&&r.length<65536&&(r.head.name+=String.fromCharCode(Y))}while(Y&&U<O);if(512&r.flags&&4&r.wrap&&(r.check=o(r.check,v,U,S)),O-=U,S+=U,Y)break t}else r.head&&(r.head.name=null);r.length=0,r.mode=16187;case 16187:if(4096&r.flags){if(0===O)break t;U=0;do{Y=v[S+U++],r.head&&Y&&r.length<65536&&(r.head.comment+=String.fromCharCode(Y))}while(Y&&U<O);if(512&r.flags&&4&r.wrap&&(r.check=o(r.check,v,U,S)),O-=U,S+=U,Y)break t}else r.head&&(r.head.comment=null);r.mode=16188;case 16188:if(512&r.flags){for(;A<16;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}if(4&r.wrap&&T!==(65535&r.check)){t.msg="header crc mismatch",r.mode=_;break}T=0,A=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=16191;break;case 16189:for(;A<32;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}t.adler=r.check=m(T),T=0,A=0,r.mode=16190;case 16190:if(0===r.havedict)return t.next_out=I,t.avail_out=R,t.next_in=S,t.avail_in=O,r.hold=T,r.bits=A,p;t.adler=r.check=1,r.mode=16191;case 16191:if(e===c||e===u)break t;case 16192:if(r.last){T>>>=7&A,A-=7&A,r.mode=16206;break}for(;A<3;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}switch(r.last=1&T,A-=1,3&(T>>>=1)){case 0:r.mode=16193;break;case 1:if(k(r),r.mode=16199,e===u){T>>>=2,A-=2;break t}break;case 2:r.mode=16196;break;case 3:t.msg="invalid block type",r.mode=_}T>>>=2,A-=2;break;case 16193:for(T>>>=7&A,A-=7&A;A<32;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}if((65535&T)!=(T>>>16^65535)){t.msg="invalid stored block lengths",r.mode=_;break}if(r.length=65535&T,T=0,A=0,r.mode=16194,e===u)break t;case 16194:r.mode=16195;case 16195:if(U=r.length){if(U>O&&(U=O),U>R&&(U=R),0===U)break t;b.set(v.subarray(S,S+U),I),O-=U,S+=U,R-=U,I+=U,r.length-=U;break}r.mode=16191;break;case 16196:for(;A<14;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}if(r.nlen=257+(31&T),T>>>=5,A-=5,r.ndist=1+(31&T),T>>>=5,A-=5,r.ncode=4+(15&T),T>>>=4,A-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=_;break}r.have=0,r.mode=16197;case 16197:for(;r.have<r.ncode;){for(;A<3;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}r.lens[K[r.have++]]=7&T,T>>>=3,A-=3}for(;r.have<19;)r.lens[K[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,H={bits:r.lenbits},Z=a(0,r.lens,0,19,r.lencode,0,r.work,H),r.lenbits=H.bits,Z){t.msg="invalid code lengths set",r.mode=_;break}r.have=0,r.mode=16198;case 16198:for(;r.have<r.nlen+r.ndist;){for(;B=(V=r.lencode[T&(1<<r.lenbits)-1])>>>16&255,C=65535&V,!((P=V>>>24)<=A);){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}if(C<16)T>>>=P,A-=P,r.lens[r.have++]=C;else{if(16===C){for(X=P+2;A<X;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}if(T>>>=P,A-=P,0===r.have){t.msg="invalid bit length repeat",r.mode=_;break}Y=r.lens[r.have-1],U=3+(3&T),T>>>=2,A-=2}else if(17===C){for(X=P+3;A<X;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}A-=P,Y=0,U=3+(7&(T>>>=P)),T>>>=3,A-=3}else{for(X=P+7;A<X;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}A-=P,Y=0,U=11+(127&(T>>>=P)),T>>>=7,A-=7}if(r.have+U>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=_;break}for(;U--;)r.lens[r.have++]=Y}}if(r.mode===_)break;if(0===r.lens[256]){t.msg="invalid code -- missing end-of-block",r.mode=_;break}if(r.lenbits=9,H={bits:r.lenbits},Z=a(1,r.lens,0,r.nlen,r.lencode,0,r.work,H),r.lenbits=H.bits,Z){t.msg="invalid literal/lengths set",r.mode=_;break}if(r.distbits=6,r.distcode=r.distdyn,H={bits:r.distbits},Z=a(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,H),r.distbits=H.bits,Z){t.msg="invalid distances set",r.mode=_;break}if(r.mode=16199,e===u)break t;case 16199:r.mode=16200;case 16200:if(O>=6&&R>=258){t.next_out=I,t.avail_out=R,t.next_in=S,t.avail_in=O,r.hold=T,r.bits=A,i(t,N),I=t.next_out,b=t.output,R=t.avail_out,S=t.next_in,v=t.input,O=t.avail_in,T=r.hold,A=r.bits,16191===r.mode&&(r.back=-1);break}for(r.back=0;B=(V=r.lencode[T&(1<<r.lenbits)-1])>>>16&255,C=65535&V,!((P=V>>>24)<=A);){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}if(B&&0==(240&B)){for(M=P,j=B,z=C;B=(V=r.lencode[z+((T&(1<<M+j)-1)>>M)])>>>16&255,C=65535&V,!(M+(P=V>>>24)<=A);){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}T>>>=M,A-=M,r.back+=M}if(T>>>=P,A-=P,r.back+=P,r.length=C,0===B){r.mode=16205;break}if(32&B){r.back=-1,r.mode=16191;break}if(64&B){t.msg="invalid literal/length code",r.mode=_;break}r.extra=15&B,r.mode=16201;case 16201:if(r.extra){for(X=r.extra;A<X;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}r.length+=T&(1<<r.extra)-1,T>>>=r.extra,A-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=16202;case 16202:for(;B=(V=r.distcode[T&(1<<r.distbits)-1])>>>16&255,C=65535&V,!((P=V>>>24)<=A);){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}if(0==(240&B)){for(M=P,j=B,z=C;B=(V=r.distcode[z+((T&(1<<M+j)-1)>>M)])>>>16&255,C=65535&V,!(M+(P=V>>>24)<=A);){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}T>>>=M,A-=M,r.back+=M}if(T>>>=P,A-=P,r.back+=P,64&B){t.msg="invalid distance code",r.mode=_;break}r.offset=C,r.extra=15&B,r.mode=16203;case 16203:if(r.extra){for(X=r.extra;A<X;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}r.offset+=T&(1<<r.extra)-1,T>>>=r.extra,A-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=_;break}r.mode=16204;case 16204:if(0===R)break t;if(U=N-R,r.offset>U){if((U=r.offset-U)>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=_;break}U>r.wnext?(U-=r.wnext,D=r.wsize-U):D=r.wnext-U,U>r.length&&(U=r.length),x=r.window}else x=b,D=I-r.offset,U=r.length;U>R&&(U=R),R-=U,r.length-=U;do{b[I++]=x[D++]}while(--U);0===r.length&&(r.mode=16200);break;case 16205:if(0===R)break t;b[I++]=r.length,R--,r.mode=16200;break;case 16206:if(r.wrap){for(;A<32;){if(0===O)break t;O--,T|=v[S++]<<A,A+=8}if(N-=R,t.total_out+=N,r.total+=N,4&r.wrap&&N&&(t.adler=r.check=r.flags?o(r.check,b,N,I-N):n(r.check,b,N,I-N)),N=R,4&r.wrap&&(r.flags?T:m(T))!==r.check){t.msg="incorrect data check",r.mode=_;break}T=0,A=0}r.mode=16207;case 16207:if(r.wrap&&r.flags){for(;A<32;){if(0===O)break t;O--,T+=v[S++]<<A,A+=8}if(4&r.wrap&&T!==(4294967295&r.total)){t.msg="incorrect length check",r.mode=_;break}T=0,A=0}r.mode=16208;case 16208:Z=h;break t;case _:Z=d;break t;case 16210:return y;case 16211:default:return l}return t.next_out=I,t.avail_out=R,t.next_in=S,t.avail_in=O,r.hold=T,r.bits=A,(r.wsize||N!==t.avail_out&&r.mode<_&&(r.mode<16206||e!==s))&&L(t,t.output,t.next_out,N-t.avail_out)?(r.mode=16210,y):(F-=t.avail_in,N-=t.avail_out,t.total_in+=F,t.total_out+=N,r.total+=N,4&r.wrap&&N&&(t.adler=r.check=r.flags?o(r.check,b,N,t.next_out-N):n(r.check,b,N,t.next_out-N)),t.data_type=r.bits+(r.last?64:0)+(16191===r.mode?128:0)+(16199===r.mode||16194===r.mode?256:0),(0===F&&0===N||e===s)&&Z===f&&(Z=g),Z)}),t.exports.inflateEnd=(t=>{if(E(t))return l;let e=t.state;return e.window&&(e.window=null),t.state=null,f}),t.exports.inflateGetHeader=((t,e)=>{if(E(t))return l;const r=t.state;return 0==(2&r.wrap)?l:(r.head=e,e.done=!1,f)}),t.exports.inflateSetDictionary=((t,e)=>{const r=e.length;let o,i,a;return E(t)?l:0!==(o=t.state).wrap&&16190!==o.mode?l:16190===o.mode&&(i=n(i=1,e,r,0))!==o.check?d:(a=L(t,e,r,r))?(o.mode=16210,y):(o.havedict=1,f)}),t.exports.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,r){"use strict";t.exports=((t,e,r,n)=>{let o=65535&t|0,i=t>>>16&65535|0,a=0;for(;0!==r;){r-=a=r>2e3?2e3:r;do{i=i+(o=o+e[n++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0})},function(t,e,r){"use strict";const n=new Uint32Array((()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=1&t?3988292384^t>>>1:t>>>1;e[r]=t}return e})());t.exports=((t,e,r,o)=>{const i=n,a=o+r;t^=-1;for(let r=o;r<a;r++)t=t>>>8^i[255&(t^e[r])];return-1^t})},function(t,e,r){"use strict";t.exports=function(t,e){let r,n,o,i,a,s,c,u,f,h,p,l,d,y,g,w,_,m,E,v,b,S,I,O;const R=t.state;r=t.next_in,I=t.input,n=r+(t.avail_in-5),o=t.next_out,O=t.output,i=o-(e-t.avail_out),a=o+(t.avail_out-257),s=R.dmax,c=R.wsize,u=R.whave,f=R.wnext,h=R.window,p=R.hold,l=R.bits,d=R.lencode,y=R.distcode,g=(1<<R.lenbits)-1,w=(1<<R.distbits)-1;t:do{l<15&&(p+=I[r++]<<l,l+=8,p+=I[r++]<<l,l+=8),_=d[p&g];e:for(;;){if(p>>>=m=_>>>24,l-=m,0===(m=_>>>16&255))O[o++]=65535&_;else{if(!(16&m)){if(0==(64&m)){_=d[(65535&_)+(p&(1<<m)-1)];continue e}if(32&m){R.mode=16191;break t}t.msg="invalid literal/length code",R.mode=16209;break t}E=65535&_,(m&=15)&&(l<m&&(p+=I[r++]<<l,l+=8),E+=p&(1<<m)-1,p>>>=m,l-=m),l<15&&(p+=I[r++]<<l,l+=8,p+=I[r++]<<l,l+=8),_=y[p&w];r:for(;;){if(p>>>=m=_>>>24,l-=m,!(16&(m=_>>>16&255))){if(0==(64&m)){_=y[(65535&_)+(p&(1<<m)-1)];continue r}t.msg="invalid distance code",R.mode=16209;break t}if(v=65535&_,l<(m&=15)&&(p+=I[r++]<<l,(l+=8)<m&&(p+=I[r++]<<l,l+=8)),(v+=p&(1<<m)-1)>s){t.msg="invalid distance too far back",R.mode=16209;break t}if(p>>>=m,l-=m,v>(m=o-i)){if((m=v-m)>u&&R.sane){t.msg="invalid distance too far back",R.mode=16209;break t}if(b=0,S=h,0===f){if(b+=c-m,m<E){E-=m;do{O[o++]=h[b++]}while(--m);b=o-v,S=O}}else if(f<m){if(b+=c+f-m,(m-=f)<E){E-=m;do{O[o++]=h[b++]}while(--m);if(b=0,f<E){E-=m=f;do{O[o++]=h[b++]}while(--m);b=o-v,S=O}}}else if(b+=f-m,m<E){E-=m;do{O[o++]=h[b++]}while(--m);b=o-v,S=O}for(;E>2;)O[o++]=S[b++],O[o++]=S[b++],O[o++]=S[b++],E-=3;E&&(O[o++]=S[b++],E>1&&(O[o++]=S[b++]))}else{b=o-v;do{O[o++]=O[b++],O[o++]=O[b++],O[o++]=O[b++],E-=3}while(E>2);E&&(O[o++]=O[b++],E>1&&(O[o++]=O[b++]))}break}}break}}while(r<n&&o<a);r-=E=l>>3,p&=(1<<(l-=E<<3))-1,t.next_in=r,t.next_out=o,t.avail_in=r<n?n-r+5:5-(r-n),t.avail_out=o<a?a-o+257:257-(o-a),R.hold=p,R.bits=l}},function(t,e,r){"use strict";const n=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),o=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),i=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),a=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);t.exports=((t,e,r,s,c,u,f,h)=>{const p=h.bits;let l,d,y,g,w,_,m=0,E=0,v=0,b=0,S=0,I=0,O=0,R=0,T=0,k=0,L=null;const A=new Uint16Array(16),F=new Uint16Array(16);let N,U,D,x=null;for(m=0;m<=15;m++)A[m]=0;for(E=0;E<s;E++)A[e[r+E]]++;for(S=p,b=15;b>=1&&0===A[b];b--);if(S>b&&(S=b),0===b)return c[u++]=20971520,c[u++]=20971520,h.bits=1,0;for(v=1;v<b&&0===A[v];v++);for(S<v&&(S=v),R=1,m=1;m<=15;m++)if(R<<=1,(R-=A[m])<0)return-1;if(R>0&&(0===t||1!==b))return-1;for(F[1]=0,m=1;m<15;m++)F[m+1]=F[m]+A[m];for(E=0;E<s;E++)0!==e[r+E]&&(f[F[e[r+E]]++]=E);if(0===t?(L=x=f,_=20):1===t?(L=n,x=o,_=257):(L=i,x=a,_=0),k=0,E=0,m=v,w=u,I=S,O=0,y=-1,g=(T=1<<S)-1,1===t&&T>852||2===t&&T>592)return 1;for(;;){N=m-O,f[E]+1<_?(U=0,D=f[E]):f[E]>=_?(U=x[f[E]-_],D=L[f[E]-_]):(U=96,D=0),l=1<<m-O,v=d=1<<I;do{c[w+(k>>O)+(d-=l)]=N<<24|U<<16|D|0}while(0!==d);for(l=1<<m-1;k&l;)l>>=1;if(0!==l?(k&=l-1,k+=l):k=0,E++,0==--A[m]){if(m===b)break;m=e[r+f[E]]}if(m>S&&(k&g)!==y){for(0===O&&(O=S),w+=v,R=1<<(I=m-O);I+O<b&&!((R-=A[I+O])<=0);)I++,R<<=1;if(T+=1<<I,1===t&&T>852||2===t&&T>592)return 1;c[y=k&g]=S<<24|I<<16|w-u|0}}return 0!==k&&(c[w+k]=m-O<<24|64<<16|0),h.bits=S,0})},function(t,e,r){"use strict";const n=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);t.exports.assign=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(const e in r)n(r,e)&&(t[e]=r[e])}}return t},t.exports.flattenChunks=(t=>{let e=0;for(let r=0,n=t.length;r<n;r++)e+=t[r].length;const r=new Uint8Array(e);for(let e=0,n=0,o=t.length;e<o;e++){let o=t[e];r.set(o,n),n+=o.length}return r})},function(t,e,r){"use strict";let n=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){n=!1}const o=new Uint8Array(256);for(let t=0;t<256;t++)o[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;o[254]=o[254]=1,t.exports.string2buf=(t=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(t);let e,r,n,o,i,a=t.length,s=0;for(o=0;o<a;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),s+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(s),i=0,o=0;i<s;o++)55296==(64512&(r=t.charCodeAt(o)))&&o+1<a&&56320==(64512&(n=t.charCodeAt(o+1)))&&(r=65536+(r-55296<<10)+(n-56320),o++),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|63&r):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|63&r):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|63&r);return e});t.exports.buf2string=((t,e)=>{const r=e||t.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(t.subarray(0,e));let i,a;const s=new Array(2*r);for(a=0,i=0;i<r;){let e=t[i++];if(e<128){s[a++]=e;continue}let n=o[e];if(n>4)s[a++]=65533,i+=n-1;else{for(e&=2===n?31:3===n?15:7;n>1&&i<r;)e=e<<6|63&t[i++],n--;n>1?s[a++]=65533:e<65536?s[a++]=e:(e-=65536,s[a++]=55296|e>>10&1023,s[a++]=56320|1023&e)}}return((t,e)=>{if(e<65534&&t.subarray&&n)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r})(s,a)}),t.exports.utf8border=((t,e)=>{(e=e||t.length)>t.length&&(e=t.length);let r=e-1;for(;r>=0&&128==(192&t[r]);)r--;return r<0?e:0===r?e:r+o[t[r]]>e?r:e})},function(t,e,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}])});
//# sourceMappingURL=browserfs.min.js.map